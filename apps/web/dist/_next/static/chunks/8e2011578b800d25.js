(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43543,e=>{"use strict";let t,r,n,i,o,s;var a=e.i(43476),l=e.i(18566),u=e.i(71645),c=e=>e instanceof Date,d=e=>null==e,f=e=>!d(e)&&!Array.isArray(e)&&"object"==typeof e&&!c(e),p="u">typeof window&&void 0!==window.HTMLElement&&"u">typeof document;function h(e){let t;if(e instanceof Date)return new Date(e);let r="u">typeof FileList&&e instanceof FileList;if(p&&(e instanceof Blob||r))return e;let n=Array.isArray(e);if(!n&&!(f(e)&&f(t=e.constructor&&e.constructor.prototype)&&t.hasOwnProperty("isPrototypeOf")))return e;let i=n?[]:Object.create(Object.getPrototypeOf(e));for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=h(e[t]));return i}var m=e=>void 0===e,g=e=>Array.isArray(e)?e.filter(Boolean):[],v=e=>g(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,t,r)=>{if(!t||!f(e))return r;let n=(/^\w*$/.test(t)?[t]:v(t)).reduce((e,t)=>d(e)?e:e[t],e);return m(n)||n===e?m(e[t])?r:e[t]:n},x=e=>"function"==typeof e,b=(e,t,r)=>{let n=-1,i=/^\w*$/.test(t)?[t]:v(t),o=i.length,s=o-1;for(;++n<o;){let t=i[n],o=r;if(n!==s){let r=e[t];o=f(r)||Array.isArray(r)?r:isNaN(+i[n+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=o,e=e[t]}};let w="onChange",S="onSubmit",N="maxLength",E="minLength",_="pattern",j="required",C=u.default.createContext(null);C.displayName="HookFormControlContext";let A="u">typeof window?u.default.useLayoutEffect:u.default.useEffect;var R=e=>"string"==typeof e,k=e=>d(e)||"object"!=typeof e;function D(e,t,r=new WeakSet){if(k(e)||k(t))return Object.is(e,t);if(c(e)&&c(t))return Object.is(e.getTime(),t.getTime());let n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;for(let o of(r.add(e),r.add(t),n)){let n=e[o];if(!i.includes(o))return!1;if("ref"!==o){let e=t[o];if(c(n)&&c(e)||f(n)&&f(e)||Array.isArray(n)&&Array.isArray(e)?!D(n,e,r):!Object.is(n,e))return!1}}return!0}let O=u.default.createContext(null);O.displayName="HookFormContext";let T=e=>{let{children:t,watch:r,getValues:n,getFieldState:i,setError:o,clearErrors:s,setValue:a,trigger:l,formState:c,resetField:d,reset:f,handleSubmit:p,unregister:h,control:m,register:g,setFocus:v,subscribe:y}=e;return u.default.createElement(O.Provider,{value:u.default.useMemo(()=>({watch:r,getValues:n,getFieldState:i,setError:o,clearErrors:s,setValue:a,trigger:l,formState:c,resetField:d,reset:f,handleSubmit:p,unregister:h,control:m,register:g,setFocus:v,subscribe:y}),[s,m,c,i,n,p,g,f,d,o,v,a,y,l,h,r])},u.default.createElement(C.Provider,{value:m},t))};var F=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},V=e=>Array.isArray(e)?e:[e],M=()=>{let e=[];return{get observers(){return e},next:t=>{for(let r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},P=e=>f(e)&&!Object.keys(e).length,I=e=>{if(!p)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},L=e=>I(e)&&e.isConnected;function z(e,t){let r=Array.isArray(t)?t:/^\w*$/.test(t)?[t]:v(t),n=1===r.length?e:function(e,t){let r=t.slice(0,-1).length,n=0;for(;n<r;)e=m(e)?n++:e[t[n++]];return e}(e,r),i=r.length-1,o=r[i];return n&&delete n[o],0!==i&&(f(n)&&P(n)||Array.isArray(n)&&function(e){for(let t in e)if(e.hasOwnProperty(t)&&!m(e[t]))return!1;return!0}(n))&&z(e,r.slice(0,-1)),e}function B(e){return Array.isArray(e)||f(e)&&!(e=>{for(let t in e)if(x(e[t]))return!0;return!1})(e)}function U(e,t={}){for(let r in e){let n=e[r];B(n)?(t[r]=Array.isArray(n)?[]:{},U(n,t[r])):m(n)||(t[r]=!0)}return t}function W(e,t,r){for(let n in r||(r=U(t)),e){let i=e[n];if(B(i))m(t)||k(r[n])?r[n]=U(i,Array.isArray(i)?[]:{}):W(i,d(t)?{}:t[n],r[n]);else{let e=t[n];r[n]=!D(i,e)}}return r}let $={value:!1,isValid:!1},H={value:!0,isValid:!0};var q=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!m(e[0].attributes.value)?m(e[0].value)||""===e[0].value?H:{value:e[0].value,isValid:!0}:H:$}return $},Z=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>m(e)?e:t?""===e?NaN:e?+e:e:r&&R(e)?new Date(e):n?n(e):e;let K={isValid:!1,value:null};var X=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,K):K;function Y(e){let t=e.ref;return"file"===t.type?t.files:"radio"===t.type?X(e.refs).value:"select-multiple"===t.type?[...t.selectedOptions].map(({value:e})=>e):"checkbox"===t.type?q(e.refs).value:Z(m(t.value)?e.ref.value:t.value,e)}var G=e=>m(e)?e:e instanceof RegExp?e.source:f(e)?e.value instanceof RegExp?e.value.source:e.value:e,Q=e=>({isOnSubmit:!e||e===S,isOnBlur:"onBlur"===e,isOnChange:e===w,isOnAll:"all"===e,isOnTouch:"onTouched"===e});let J="AsyncFunction";var ee=e=>!!e&&!!e.validate&&!!(x(e.validate)&&e.validate.constructor.name===J||f(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===J)),et=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));let er=(e,t,r,n)=>{for(let i of r||Object.keys(e)){let r=y(e,i);if(r){let{_f:e,...o}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!n)return!0;else if(e.ref&&t(e.ref,e.name)&&!n)return!0;else if(er(o,t))break}else if(f(o)&&er(o,t))break}}};function en(e,t,r){let n=y(e,r);if(n||/^\w*$/.test(r))return{error:n,name:r};let i=r.split(".");for(;i.length;){let n=i.join("."),o=y(t,n),s=y(e,n);if(o&&!Array.isArray(o)&&r!==n)break;if(s&&s.type)return{name:n,error:s};if(s&&s.root&&s.root.type)return{name:`${n}.root`,error:s.root};i.pop()}return{name:r}}var ei=(e,t,r)=>{let n=V(y(e,r));return b(n,"root",t[r]),b(e,r,n),e};function eo(e,t,r="validate"){if(R(e)||Array.isArray(e)&&e.every(R)||"boolean"==typeof e&&!e)return{type:r,message:R(e)?e:"",ref:t}}var es=e=>!f(e)||e instanceof RegExp?{value:e,message:""}:e,ea=async(e,t,r,n,i,o)=>{let{ref:s,refs:a,required:l,maxLength:u,minLength:c,min:p,max:h,pattern:g,validate:v,name:b,valueAsNumber:w,mount:S}=e._f,C=y(r,b);if(!S||t.has(b))return{};let A=a?a[0]:s,k=e=>{i&&A.reportValidity&&(A.setCustomValidity("boolean"==typeof e?"":e||""),A.reportValidity())},D={},O="radio"===s.type,T="checkbox"===s.type,V=(w||"file"===s.type)&&m(s.value)&&m(C)||I(s)&&""===s.value||""===C||Array.isArray(C)&&!C.length,M=F.bind(null,b,n,D),L=(e,t,r,n=N,i=E)=>{let o=e?t:r;D[b]={type:e?n:i,message:o,ref:s,...M(e?n:i,o)}};if(o?!Array.isArray(C)||!C.length:l&&(!(O||T)&&(V||d(C))||"boolean"==typeof C&&!C||T&&!q(a).isValid||O&&!X(a).isValid)){let{value:e,message:t}=R(l)?{value:!!l,message:l}:es(l);if(e&&(D[b]={type:j,message:t,ref:A,...M(j,t)},!n))return k(t),D}if(!V&&(!d(p)||!d(h))){let e,t,r=es(h),i=es(p);if(d(C)||isNaN(C)){let n=s.valueAsDate||new Date(C),o=e=>new Date(new Date().toDateString()+" "+e),a="time"==s.type,l="week"==s.type;R(r.value)&&C&&(e=a?o(C)>o(r.value):l?C>r.value:n>new Date(r.value)),R(i.value)&&C&&(t=a?o(C)<o(i.value):l?C<i.value:n<new Date(i.value))}else{let n=s.valueAsNumber||(C?+C:C);d(r.value)||(e=n>r.value),d(i.value)||(t=n<i.value)}if((e||t)&&(L(!!e,r.message,i.message,"max","min"),!n))return k(D[b].message),D}if((u||c)&&!V&&(R(C)||o&&Array.isArray(C))){let e=es(u),t=es(c),r=!d(e.value)&&C.length>+e.value,i=!d(t.value)&&C.length<+t.value;if((r||i)&&(L(r,e.message,t.message),!n))return k(D[b].message),D}if(g&&!V&&R(C)){let{value:e,message:t}=es(g);if(e instanceof RegExp&&!C.match(e)&&(D[b]={type:_,message:t,ref:s,...M(_,t)},!n))return k(t),D}if(v){if(x(v)){let e=eo(await v(C,r),A);if(e&&(D[b]={...e,...M("validate",e.message)},!n))return k(e.message),D}else if(f(v)){let e={};for(let t in v){if(!P(e)&&!n)break;let i=eo(await v[t](C,r),A,t);i&&(e={...i,...M(t,i.message)},k(i.message),n&&(D[b]=e))}if(!P(e)&&(D[b]={ref:A,...e},!n))return D}}return k(!0),D};let el={mode:S,reValidateMode:w,shouldFocusError:!0};var eu=()=>{if("u">typeof crypto&&crypto.randomUUID)return crypto.randomUUID();let e="u"<typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let r=(16*Math.random()+e)%16|0;return("x"==t?r:3&r|8).toString(16)})},ec=(e,t,r={})=>r.shouldFocus||m(r.shouldFocus)?r.focusName||`${e}.${m(r.focusIndex)?t:r.focusIndex}.`:"",ed=(e,t)=>[...e,...V(t)],ef=e=>Array.isArray(e)?e.map(()=>void 0):void 0;function ep(e,t,r){return[...e.slice(0,t),...V(r),...e.slice(t)]}var eh=(e,t,r)=>Array.isArray(e)?(m(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],em=(e,t)=>[...V(t),...V(e)],eg=(e,t)=>m(t)?[]:function(e,t){let r=0,n=[...e];for(let e of t)n.splice(e-r,1),r++;return g(n).length?n:[]}(e,V(t).sort((e,t)=>e-t)),ev=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},ey=(e,t,r)=>(e[t]=r,e);let ex=(e,t,r)=>{if(e&&"reportValidity"in e){let n=y(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},eb=(e,t)=>{for(let r in t.fields){let n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?ex(n.ref,r,e):n&&n.refs&&n.refs.forEach(t=>ex(t,r,e))}},ew=(e,t)=>{t.shouldUseNativeValidation&&eb(e,t);let r={};for(let n in e){let i=y(t.fields,n),o=Object.assign(e[n]||{},{ref:i&&i.ref});if(eS(t.names||Object.keys(e),n)){let e=Object.assign({},y(r,n));b(e,"root",o),b(r,n,e)}else b(r,n,o)}return r},eS=(e,t)=>{let r=eN(t);return e.some(e=>eN(e).match(`^${r}\\.\\d+`))};function eN(e){return e.replace(/\]|\[/g,"")}e.i(92135);var eE=e.i(74969),e_=e.i(3108);function ej(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var eC=e.i(81307);let eA=["SR","ZR","ES","OS","TX","BL","RS"],eR=eC.z.object({id:eC.z.string().uuid(),description:eC.z.string().min(1,"Description required").max(500),quantity:eC.z.string().regex(/^\d*\.?\d{0,2}$/,"Invalid quantity"),unit_price:eC.z.string().regex(/^\d*\.?\d{0,4}$/,"Invalid price"),discount_pct:eC.z.string().regex(/^\d*\.?\d{0,2}$/,"Invalid discount").default("0"),tax_code:eC.z.enum(eA).default("SR"),is_bcrs_deposit:eC.z.boolean().default(!1),line_subtotal:eC.z.string(),gst_amount:eC.z.string(),line_total:eC.z.string()}),ek=eC.z.object({id:eC.z.string().uuid(),name:eC.z.string().min(1,"Customer name required").max(200),uen:eC.z.string().regex(/^[0-9]{8,9}[A-Z]$/,"Invalid UEN format").optional().or(eC.z.literal("")),gst_registration_no:eC.z.string().optional().or(eC.z.literal("")),email:eC.z.string().email("Invalid email").optional().or(eC.z.literal("")),address:eC.z.string().max(500).optional().or(eC.z.literal("")),is_peppol_enabled:eC.z.boolean().default(!1),peppol_id:eC.z.string().optional().or(eC.z.literal(""))}),eD=eC.z.object({id:eC.z.string().uuid().optional(),invoice_number:eC.z.string().min(1).max(50),uuid:eC.z.string().uuid(),issue_date:eC.z.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Invalid date"),due_date:eC.z.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Invalid date"),tax_point_date:eC.z.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Invalid date").optional().or(eC.z.literal("")),customer:ek,lines:eC.z.array(eR).min(1,"At least one line item required"),subtotal:eC.z.string(),gst_rate:eC.z.string().default("0.09"),gst_amount:eC.z.string(),bcrs_deposit_total:eC.z.string().default("0.00"),total_amount:eC.z.string(),status:eC.z.enum(["DRAFT","SENT","PAID","OVERDUE","VOID"]).default("DRAFT"),peppol_status:eC.z.enum(["NOT_REQUIRED","PENDING","SENT","ACCEPTED","REJECTED"]).default("NOT_REQUIRED"),notes:eC.z.string().max(1e3).optional().default(""),reference:eC.z.string().max(100).optional().default(""),terms:eC.z.string().max(1e3).optional().default("")});function eO(){return{id:crypto.randomUUID(),description:"",quantity:"1",unit_price:"0.00",discount_pct:"0",tax_code:"SR",is_bcrs_deposit:!1,line_subtotal:"0.0000",gst_amount:"0.0000",line_total:"0.0000"}}var eT=e.i(19455);function eF(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function eV(){}function eM(e){return!!(e||"").match(/\d/)}function eP(e){return null==e}function eI(e){return eP(e)||"number"==typeof e&&isNaN(e)||"number"==typeof e&&!isFinite(e)}function eL(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function ez(e,t){void 0===t&&(t=!0);var r="-"===e[0],n=r&&t,i=(e=e.replace("-","")).split(".");return{beforeDecimal:i[0],afterDecimal:i[1]||"",hasNegation:r,addNegation:n}}function eB(e,t,r){for(var n="",i=r?"0":"",o=0;o<=t-1;o++)n+=e[o]||i;return n}function eU(e,t){return Array(t+1).join(e)}function eW(e){var t=e+"",r="-"===t[0]?"-":"";r&&(t=t.substring(1));var n=t.split(/[eE]/g),i=n[0],o=n[1];if(!(o=Number(o)))return r+i;i=i.replace(".","");var s=1+o,a=i.length;return s<0?i="0."+eU("0",Math.abs(s))+i:s>=a?i+=eU("0",s-a):i=(i.substring(0,s)||"0")+"."+i.substring(s),r+i}function e$(e,t,r){if(-1!==["","-"].indexOf(e))return e;var n=(-1!==e.indexOf(".")||r)&&t,i=ez(e),o=i.beforeDecimal,s=i.afterDecimal,a=i.hasNegation,l=parseFloat("0."+(s||"0")),u=(s.length<=t?"0."+s:l.toFixed(t)).split("."),c=o;return o&&Number(u[0])&&(c=o.split("").reverse().reduce(function(e,t,r){return e.length>r?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e},u[0])),(a?"-":"")+c+(n?".":"")+eB(u[1]||"",t,r)}function eH(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var r=e.createTextRange();return r.move("character",t),r.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}(i7=oo||(oo={})).event="event",i7.props="prop";var eq=(i9=function(e,t){for(var r=0,n=0,i=e.length,o=t.length;e[r]===t[r]&&r<i;)r++;for(;e[i-1-n]===t[o-1-n]&&o-n>r&&i-n>r;)n++;return{from:{start:r,end:i-n},to:{start:r,end:o-n}}},i6=void 0,function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return i3&&e.length===i3.length&&e.every(function(e,t){return e===i3[t]})?i6:(i3=e,i6=i9.apply(void 0,e))}),eZ=function(e,t){var r=Math.min(e.selectionStart,t);return{from:{start:r,end:e.selectionEnd},to:{start:r,end:t}}};function eK(e){return Math.max(e.selectionStart,e.selectionEnd)}function eX(e){var t=e.currentValue,r=e.formattedValue,n=e.currentValueIndex,i=e.formattedValueIndex;return t[n]===r[i]}function eY(e,t,r,n){var i=e.length;if(t=Math.min(Math.max(t,0),i),"left"===n){for(;t>=0&&!r[t];)t--;-1===t&&(t=r.indexOf(!0))}else{for(;t<=i&&!r[t];)t++;t>i&&(t=r.lastIndexOf(!0))}return -1===t&&(t=i),t}function eG(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),r=0,n=t.length;r<n;r++)t[r]=!!(eM(e[r])||eM(e[r-1]));return t}function eQ(e,t,r,n,i,o){void 0===o&&(o=eV);var s,a,l=(s=function(e,t){var r,o;return eI(e)?(o="",r=""):r="number"==typeof e||t?n(o="number"==typeof e?eW(e):e):n(o=i(e,void 0)),{formattedValue:r,numAsString:o}},(a=(0,u.useRef)(s)).current=s,(0,u.useRef)(function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return a.current.apply(a,e)}).current),c=(0,u.useState)(function(){return l(eP(e)?t:e,r)}),d=c[0],f=c[1],p=e,h=r;eP(e)&&(p=d.numAsString,h=!0);var m=l(p,h);return(0,u.useMemo)(function(){f(m)},[m.formattedValue]),[d,function(e,t){e.formattedValue!==d.formattedValue&&f({formattedValue:e.formattedValue,numAsString:e.value}),o(e,t)}]}function eJ(e){return e.replace(/[^0-9]/g,"")}function e0(e){return e}function e1(e){var t=e.type;void 0===t&&(t="text");var r=e.displayType;void 0===r&&(r="input");var n=e.customInput,i=e.renderText,o=e.getInputRef,s=e.format;void 0===s&&(s=e0);var a=e.removeFormatting;void 0===a&&(a=eJ);var l=e.defaultValue,c=e.valueIsNumericString,d=e.onValueChange,f=e.isAllowed,p=e.onChange;void 0===p&&(p=eV);var h=e.onKeyDown;void 0===h&&(h=eV);var m=e.onMouseUp;void 0===m&&(m=eV);var g=e.onFocus;void 0===g&&(g=eV);var v=e.onBlur;void 0===v&&(v=eV);var y=e.value,x=e.getCaretBoundary;void 0===x&&(x=eG);var b=e.isValidInputCharacter;void 0===b&&(b=eM);var w=e.isCharacterSame,S=eF(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),N=eQ(y,l,!!c,s,a,d),E=N[0],_=E.formattedValue,j=E.numAsString,C=N[1],A=(0,u.useRef)(),R=(0,u.useRef)({formattedValue:_,numAsString:j}),k=function(e,t){R.current={formattedValue:e.formattedValue,numAsString:e.value},C(e,t)},D=(0,u.useState)(!1),O=D[0],T=D[1],F=(0,u.useRef)(null),V=(0,u.useRef)({setCaretTimeout:null,focusTimeout:null});(0,u.useEffect)(function(){return T(!0),function(){clearTimeout(V.current.setCaretTimeout),clearTimeout(V.current.focusTimeout)}},[]);var M=s,P=function(e,t){var r=parseFloat(t);return{formattedValue:e,value:t,floatValue:isNaN(r)?void 0:r}},I=function(e,t,r){(0!==e.selectionStart||e.selectionEnd!==e.value.length)&&(eH(e,t),V.current.setCaretTimeout=setTimeout(function(){e.value===r&&e.selectionStart!==t&&eH(e,t)},0))},L=function(e,t,r){return eY(e,t,x(e),r)},z=function(e,t,r){var n=x(t),i=function(e,t,r,n,i,o,s){void 0===s&&(s=eX);var a=i.findIndex(function(e){return e}),l=e.slice(0,a);t||r.startsWith(l)||(t=l,r=l+r,n+=l.length);for(var u=r.length,c=e.length,d={},f=Array(u),p=0;p<u;p++){f[p]=-1;for(var h=0;h<c;h++)if(s({currentValue:r,lastValue:t,formattedValue:e,currentValueIndex:p,formattedValueIndex:h})&&!0!==d[h]){f[p]=h,d[h]=!0;break}}for(var m=n;m<u&&(-1===f[m]||!o(r[m]));)m++;var g=m===u||-1===f[m]?c:f[m];for(m=n-1;m>0&&-1===f[m];)m--;var v=-1===m||-1===f[m]?0:f[m]+1;return v>g?g:n-v<g-n?v:g}(t,_,e,r,n,b,w);return eY(t,i,n)},B=function(e){var t,r=e.formattedValue;void 0===r&&(r="");var n=e.input,i=e.source,o=e.event,s=e.numAsString;if(n){var a=e.inputValue||n.value,l=eK(n);n.value=r,void 0!==(t=z(a,r,l))&&I(n,t,r)}r!==_&&k(P(r,s),{event:o,source:i})};(0,u.useEffect)(function(){var e=R.current,t=e.formattedValue,r=e.numAsString;(_!==t||j!==r)&&k(P(_,j),{event:void 0,source:oo.props})},[_,j]);var U=F.current?eK(F.current):void 0;("u">typeof window?u.useLayoutEffect:u.useEffect)(function(){var e=F.current;if(_!==R.current.formattedValue&&e){var t=z(R.current.formattedValue,_,U);e.value=_,I(e,t,_)}},[_]);var W=function(e,t,r){var n=t.target,i=Object.assign(Object.assign({},A.current?eZ(A.current,n.selectionEnd):eq(_,e)),{lastValue:_}),o=a(e,i),s=M(o);if(o=a(s,void 0),f&&!f(P(s,o))){var l=t.target,u=z(e,_,eK(l));return l.value=_,I(l,u,_),!1}return B({formattedValue:s,numAsString:o,inputValue:e,event:t,source:r,input:t.target}),!0},$=function(e,t){void 0===t&&(t=0),A.current={selectionStart:e.selectionStart,selectionEnd:e.selectionEnd+t}},H=Object.assign({inputMode:O&&"u">typeof navigator&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))?"numeric":void 0},S,{type:t,value:_,onChange:function(e){W(e.target.value,e,oo.event)&&p(e),A.current=void 0},onKeyDown:function(e){var t,r=e.target,n=e.key,i=r.selectionStart,o=r.selectionEnd,s=r.value;void 0===s&&(s=""),"ArrowLeft"===n||"Backspace"===n?t=Math.max(i-1,0):"ArrowRight"===n?t=Math.min(i+1,s.length):"Delete"===n&&(t=i);var a=0;"Delete"===n&&i===o&&(a=1);var l="ArrowLeft"===n||"ArrowRight"===n;if(void 0===t||i!==o&&!l){h(e),$(r,a);return}var u=t;l?(u=L(s,t,"ArrowLeft"===n?"left":"right"))!==t&&e.preventDefault():"Delete"!==n||b(s[t])?"Backspace"!==n||b(s[t])||(u=L(s,t,"left")):u=L(s,t,"right"),u!==t&&I(r,u,s),h(e),$(r,a)},onMouseUp:function(e){var t=e.target,r=function(){var e=t.selectionStart,r=t.selectionEnd,n=t.value;if(void 0===n&&(n=""),e===r){var i=L(n,e);i!==e&&I(t,i,n)}};r(),requestAnimationFrame(function(){r()}),m(e),$(t)},onFocus:function(e){e.persist&&e.persist();var t=e.target,r=e.currentTarget;F.current=t,V.current.focusTimeout=setTimeout(function(){var n=t.selectionStart,i=t.selectionEnd,o=t.value;void 0===o&&(o="");var s=L(o,n);s!==n&&(0!==n||i!==o.length)&&I(t,s,o),g(Object.assign(Object.assign({},e),{currentTarget:r}))},0)},onBlur:function(e){F.current=null,clearTimeout(V.current.focusTimeout),clearTimeout(V.current.setCaretTimeout),v(e)}});return"text"===r?i?u.default.createElement(u.default.Fragment,null,i(_,S)||null):u.default.createElement("span",Object.assign({},S,{ref:o}),_):n?u.default.createElement(n,Object.assign({},H,{ref:o})):u.default.createElement("input",Object.assign({},H,{ref:o}))}function e2(e,t){var r,n,i,o=t.decimalScale,s=t.fixedDecimalScale,a=t.prefix;void 0===a&&(a="");var l=t.suffix;void 0===l&&(l="");var u=t.allowNegative,c=t.thousandsGroupStyle;if(void 0===c&&(c="thousand"),""===e||"-"===e)return e;var d=e4(t),f=d.thousandSeparator,p=d.decimalSeparator,h=0!==o&&-1!==e.indexOf(".")||o&&s,m=ez(e,u),g=m.beforeDecimal,v=m.afterDecimal,y=m.addNegation;return void 0!==o&&(v=eB(v,o,!!s)),f&&(r=g,n=function(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;default:return/(\d)(?=(\d{3})+(?!\d))/g}}(c),i=-1===(i=r.search(/[1-9]/))?r.length:i,g=r.substring(0,i)+r.substring(i,r.length).replace(n,"$1"+f)),a&&(g=a+g),l&&(v+=l),y&&(g="-"+g),e=g+(h&&p||"")+v}function e4(e){var t=e.decimalSeparator;void 0===t&&(t=".");var r=e.thousandSeparator,n=e.allowedDecimalSeparators;return!0===r&&(r=","),n||(n=[t,"."]),{decimalSeparator:t,thousandSeparator:r,allowedDecimalSeparators:n}}function e5(e){var t,r,n,i,o,s,a,l,c,d,f,p,h,m,g,v,y,x,b,w,S,N,E,_,j,C,A,R,k,D=((t=function(e){var t=e4(e),r=t.thousandSeparator,n=t.decimalSeparator,i=e.prefix;void 0===i&&(i="");var o=e.allowNegative;if(void 0===o&&(o=!0),r===n)throw Error("\n        Decimal separator can't be same as thousand separator.\n        thousandSeparator: "+r+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n        decimalSeparator: '+n+" (default value for decimalSeparator is .)\n     ");return i.startsWith("-")&&o&&(console.error("\n      Prefix can't start with '-' when allowNegative is true.\n      prefix: "+i+"\n      allowNegative: "+o+"\n    "),o=!1),Object.assign(Object.assign({},e),{allowNegative:o})}(t=e)).decimalSeparator,t.allowedDecimalSeparators,t.thousandsGroupStyle,r=t.suffix,n=t.allowNegative,i=t.allowLeadingZeros,void 0===(o=t.onKeyDown)&&(o=eV),void 0===(s=t.onBlur)&&(s=eV),a=t.thousandSeparator,l=t.decimalScale,c=t.fixedDecimalScale,void 0===(d=t.prefix)&&(d=""),f=t.defaultValue,p=t.value,h=t.valueIsNumericString,m=t.onValueChange,g=eF(t,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),y=(v=e4(t)).decimalSeparator,x=v.allowedDecimalSeparators,b=function(e){return e2(e,t)},w=function(e,r){return function(e,t,r){void 0===t&&(t={from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""});var n,i,o,s,a=r.allowNegative,l=r.prefix;void 0===l&&(l="");var u=r.suffix;void 0===u&&(u="");var c=r.decimalScale,d=t.from,f=t.to,p=f.start,h=f.end,m=e4(r),g=m.allowedDecimalSeparators,v=m.decimalSeparator,y=e[h]===v;if(eM(e)&&(e===l||e===u)&&""===t.lastValue)return e;if(h-p==1&&-1!==g.indexOf(e[p])){var x=0===c?"":v;e=e.substring(0,p)+x+e.substring(p+1,e.length)}var b=function(e,t,r){var n=!1,i=!1;l.startsWith("-")?n=!1:e.startsWith("--")?(n=!1,i=!0):u.startsWith("-")&&e.length===u.length?n=!1:"-"===e[0]&&(n=!0);var o=+!!n;return i&&(o=2),o&&(e=e.substring(o),t-=o,r-=o),{value:e,start:t,end:r,hasNegation:n}},w=b(e,p,h),S=w.hasNegation;e=w.value,p=w.start,h=w.end;var N=b(t.lastValue,d.start,d.end),E=N.start,_=N.end,j=N.value,C=e.substring(p,h);e.length&&j.length&&(E>j.length-u.length||_<l.length)&&!(C&&u.startsWith(C))&&(e=j);var A=0;e.startsWith(l)?A+=l.length:p<l.length&&(A=p),e=e.substring(A),h-=A;var R=e.length,k=e.length-u.length;e.endsWith(u)?R=k:h>k?R=h:h>e.length-u.length&&(R=h),e=e.substring(0,R),void 0===(n=S?"-"+e:e)&&(n=""),i=RegExp("(-)(.)*(-)"),o=/(-)/.test(n),s=i.test(n),n=n.replace(/-/g,""),o&&!s&&a&&(n="-"+n);var D=(e=((e=n).match(RegExp("(^-)|[0-9]|"+eL(v),"g"))||[]).join("")).indexOf(v),O=ez(e=e.replace(RegExp(eL(v),"g"),function(e,t){return t===D?".":""}),a),T=O.beforeDecimal,F=O.afterDecimal,V=O.addNegation;return f.end-f.start<d.end-d.start&&""===T&&y&&!parseFloat(F)&&(e=V?"-":""),e}(e,r,t)},S=eP(p)?f:p,E=null!=h?h:(N=d,""===S||!(null==N?void 0:N.match(/\d/))&&!(null==r?void 0:r.match(/\d/))&&"string"==typeof S&&!isNaN(Number(S))),eP(p)?eP(f)||(E=E||"number"==typeof f):E=E||"number"==typeof p,A=(C=(j=eQ((_=function(e){return eI(e)?e:("number"==typeof e&&(e=eW(e)),E&&"number"==typeof l)?e$(e,l,!!c):e})(p),_(f),!!E,b,w,m))[0]).numAsString,R=C.formattedValue,k=j[1],Object.assign(Object.assign({},g),{value:R,valueIsNumericString:!1,isValidInputCharacter:function(e){return e===y||eM(e)},isCharacterSame:function(e){var t=e.currentValue,r=e.lastValue,n=e.formattedValue,i=e.currentValueIndex,o=e.formattedValueIndex,s=t[i],a=n[o],u=eq(r,t).to,f=function(e){return w(e).indexOf(".")+d.length};return!(0===p&&c&&l&&t[u.start]===y&&f(t)<i&&f(n)>o)&&(!!(i>=u.start&&i<u.end&&x&&x.includes(s))&&a===y||s===a)},onValueChange:k,format:b,removeFormatting:w,getCaretBoundary:function(e){var r,n,i,o,s,a;return void 0===(n=(r=t).prefix)&&(n=""),void 0===(i=r.suffix)&&(i=""),o=Array.from({length:e.length+1}).map(function(){return!0}),s="-"===e[0],o.fill(!1,0,n.length+ +!!s),a=e.length,o.fill(!1,a-i.length+1,a+1),o},onKeyDown:function(e){var t=e.target,r=e.key,i=t.selectionStart,s=t.selectionEnd,u=t.value;if(void 0===u&&(u=""),("Backspace"===r||"Delete"===r)&&s<d.length)return void e.preventDefault();if(i!==s)return void o(e);"Backspace"===r&&"-"===u[0]&&i===d.length+1&&n&&eH(t,1),l&&c&&("Backspace"===r&&u[i-1]===y?(eH(t,i-1),e.preventDefault()):"Delete"===r&&u[i]===y&&e.preventDefault()),(null==x?void 0:x.includes(r))&&u[i]===y&&eH(t,i+1);var f=!0===a?",":a;"Backspace"===r&&u[i-1]===f&&eH(t,i-1),"Delete"===r&&u[i]===f&&eH(t,i+1),o(e)},onBlur:function(e){var r=A;r.match(/\d/g)||(r=""),i||(r=function(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var r=e.split("."),n=r[0].replace(/^0+/,"")||"0",i=r[1]||"";return(t?"-":"")+n+(i?"."+i:"")}(r)),c&&l&&(r=e$(r,l,c)),r!==A&&k({formattedValue:e2(r,t),value:r,floatValue:parseFloat(r)},{event:e,source:oo.event}),s(e)}}));return u.default.createElement(e1,Object.assign({},D))}var e7=e.i(75157);let e9=u.forwardRef(({className:e,value:t,onChange:r,currencySymbol:n="S$",ariaLabel:i,ariaDescribedBy:o,allowNegative:s=!1,decimalScale:l=2,disabled:c,error:d,...f},p)=>{let[h,m]=u.useState(!1);return(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("div",{className:(0,e7.cn)("relative group flex items-center border bg-surface transition-all rounded-sm","focus-within:border-accent-primary focus-within:ring-1 focus-within:ring-accent-primary/50",c&&"opacity-50 cursor-not-allowed",d?"border-alert":"border-border",e),children:[n&&(0,a.jsx)("div",{className:(0,e7.cn)("pl-3 pr-2 py-2 border-r border-border text-text-muted font-mono text-sm flex items-center bg-carbon select-none","tabular-nums slashed-zero"),children:n}),(0,a.jsx)(e5,{value:t,onValueChange:e=>r(e.value),thousandSeparator:",",decimalScale:l,fixedDecimalScale:!0,allowedDecimalSeparators:["."],allowNegative:s,disabled:c,className:(0,e7.cn)("flex-1 border-0 bg-transparent px-3 py-2 text-sm font-mono","tabular-nums slashed-zero text-text-primary","focus:outline-none focus:ring-0 placeholder:text-text-muted","w-full min-w-0"),"aria-label":i,"aria-describedby":(0,e7.cn)(d&&`${i}-error`,o),"aria-invalid":d?"true":"false",getInputRef:p,onFocus:e=>{m(!0),f.onFocus?.(e)},onBlur:e=>{m(!1),f.onBlur?.(e)},name:f.name,placeholder:f.placeholder,readOnly:f.readOnly,required:f.required,autoComplete:f.autoComplete}),h&&!d&&(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none border-2 border-accent-primary/30 rounded-sm","aria-hidden":"true"})]}),d&&(0,a.jsx)("p",{id:`${i}-error`,className:"text-sm text-alert",role:"alert",children:d})]})});e9.displayName="MoneyInput";var e3=e.i(93479),e6=e.i(74080);function e8(e,[t,r]){return Math.min(r,Math.max(t,e))}function te(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}function tt(e,t=[]){let r=[],n=()=>{let t=r.map(e=>u.createContext(e));return function(r){let n=r?.[e]||t;return u.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return n.scopeName=e,[function(t,n){let i=u.createContext(n),o=r.length;r=[...r,n];let s=t=>{let{scope:r,children:n,...s}=t,l=r?.[e]?.[o]||i,c=u.useMemo(()=>s,Object.values(s));return(0,a.jsx)(l.Provider,{value:c,children:n})};return s.displayName=t+"Provider",[s,function(r,s){let a=s?.[e]?.[o]||i,l=u.useContext(a);if(l)return l;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}(n,...t)]}"u">typeof window&&window.document&&window.document.createElement;var tr=e.i(20783);function tn(e){var t;let r,n=(t=e,(r=u.forwardRef((e,t)=>{let{children:r,...n}=e;if(u.isValidElement(r)){var i;let e,o,s=(i=r,(o=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(o=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),a=function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{let t=o(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==u.Fragment&&(a.ref=t?(0,tr.composeRefs)(t,s):s),u.cloneElement(r,a)}return u.Children.count(r)>1?u.Children.only(null):null})).displayName=`${t}.SlotClone`,r),i=u.forwardRef((e,t)=>{let{children:r,...i}=e,o=u.Children.toArray(r),s=o.find(to);if(s){let e=s.props.children,r=o.map(t=>t!==s?t:u.Children.count(e)>1?u.Children.only(null):u.isValidElement(e)?e.props.children:null);return(0,a.jsx)(n,{...i,ref:t,children:u.isValidElement(e)?u.cloneElement(e,void 0,r):null})}return(0,a.jsx)(n,{...i,ref:t,children:r})});return i.displayName=`${e}.Slot`,i}var ti=Symbol("radix.slottable");function to(e){return u.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ti}var ts=new WeakMap;function ta(e,t){var r,n;let i,o,s;if("at"in Array.prototype)return Array.prototype.at.call(e,t);let a=(r=e,n=t,i=r.length,(s=(o=tl(n))>=0?o:i+o)<0||s>=i?-1:s);return -1===a?void 0:e[a]}function tl(e){return e!=e||0===e?0:Math.trunc(e)}(class e extends Map{#e;constructor(e){super(e),this.#e=[...super.keys()],ts.set(this,!0)}set(e,t){return ts.get(this)&&(this.has(e)?this.#e[this.#e.indexOf(e)]=e:this.#e.push(e)),super.set(e,t),this}insert(e,t,r){let n,i=this.has(t),o=this.#e.length,s=tl(e),a=s>=0?s:o+s,l=a<0||a>=o?-1:a;if(l===this.size||i&&l===this.size-1||-1===l)return this.set(t,r),this;let u=this.size+ +!i;s<0&&a++;let c=[...this.#e],d=!1;for(let e=a;e<u;e++)if(a===e){let o=c[e];c[e]===t&&(o=c[e+1]),i&&this.delete(t),n=this.get(o),this.set(t,r)}else{d||c[e-1]!==t||(d=!0);let r=c[d?e:e-1],i=n;n=this.get(r),this.delete(r),this.set(r,i)}return this}with(t,r,n){let i=new e(this);return i.insert(t,r,n),i}before(e){let t=this.#e.indexOf(e)-1;if(!(t<0))return this.entryAt(t)}setBefore(e,t,r){let n=this.#e.indexOf(e);return -1===n?this:this.insert(n,t,r)}after(e){let t=this.#e.indexOf(e);if(-1!==(t=-1===t||t===this.size-1?-1:t+1))return this.entryAt(t)}setAfter(e,t,r){let n=this.#e.indexOf(e);return -1===n?this:this.insert(n+1,t,r)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#e=[],super.clear()}delete(e){let t=super.delete(e);return t&&this.#e.splice(this.#e.indexOf(e),1),t}deleteAt(e){let t=this.keyAt(e);return void 0!==t&&this.delete(t)}at(e){let t=ta(this.#e,e);if(void 0!==t)return this.get(t)}entryAt(e){let t=ta(this.#e,e);if(void 0!==t)return[t,this.get(t)]}indexOf(e){return this.#e.indexOf(e)}keyAt(e){return ta(this.#e,e)}from(e,t){let r=this.indexOf(e);if(-1===r)return;let n=r+t;return n<0&&(n=0),n>=this.size&&(n=this.size-1),this.at(n)}keyFrom(e,t){let r=this.indexOf(e);if(-1===r)return;let n=r+t;return n<0&&(n=0),n>=this.size&&(n=this.size-1),this.keyAt(n)}find(e,t){let r=0;for(let n of this){if(Reflect.apply(e,t,[n,r,this]))return n;r++}}findIndex(e,t){let r=0;for(let n of this){if(Reflect.apply(e,t,[n,r,this]))return r;r++}return -1}filter(t,r){let n=[],i=0;for(let e of this)Reflect.apply(t,r,[e,i,this])&&n.push(e),i++;return new e(n)}map(t,r){let n=[],i=0;for(let e of this)n.push([e[0],Reflect.apply(t,r,[e,i,this])]),i++;return new e(n)}reduce(...e){let[t,r]=e,n=0,i=r??this.at(0);for(let r of this)i=0===n&&1===e.length?r:Reflect.apply(t,this,[i,r,n,this]),n++;return i}reduceRight(...e){let[t,r]=e,n=r??this.at(-1);for(let r=this.size-1;r>=0;r--){let i=this.at(r);n=r===this.size-1&&1===e.length?i:Reflect.apply(t,this,[n,i,r,this])}return n}toSorted(t){return new e([...this.entries()].sort(t))}toReversed(){let t=new e;for(let e=this.size-1;e>=0;e--){let r=this.keyAt(e),n=this.get(r);t.set(r,n)}return t}toSpliced(...t){let r=[...this.entries()];return r.splice(...t),new e(r)}slice(t,r){let n=new e,i=this.size-1;if(void 0===t)return n;t<0&&(t+=this.size),void 0!==r&&r>0&&(i=r-1);for(let e=t;e<=i;e++){let t=this.keyAt(e),r=this.get(t);n.set(t,r)}return n}every(e,t){let r=0;for(let n of this){if(!Reflect.apply(e,t,[n,r,this]))return!1;r++}return!0}some(e,t){let r=0;for(let n of this){if(Reflect.apply(e,t,[n,r,this]))return!0;r++}return!1}});var tu=u.createContext(void 0),tc=Symbol("radix.slottable");function td(e){return u.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===tc}var tf=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{var r,n;let i,o,s,l=(n=r=`Primitive.${t}`,(i=u.forwardRef((e,t)=>{let{children:r,...n}=e;if(u.isValidElement(r)){var i;let e,o,s=(i=r,(o=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(o=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),a=function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{let t=o(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==u.Fragment&&(a.ref=t?(0,tr.composeRefs)(t,s):s),u.cloneElement(r,a)}return u.Children.count(r)>1?u.Children.only(null):null})).displayName=`${n}.SlotClone`,o=i,(s=u.forwardRef((e,t)=>{let{children:r,...n}=e,i=u.Children.toArray(r),s=i.find(td);if(s){let e=s.props.children,r=i.map(t=>t!==s?t:u.Children.count(e)>1?u.Children.only(null):u.isValidElement(e)?e.props.children:null);return(0,a.jsx)(o,{...n,ref:t,children:u.isValidElement(e)?u.cloneElement(e,void 0,r):null})}return(0,a.jsx)(o,{...n,ref:t,children:r})})).displayName=`${r}.Slot`,s),c=u.forwardRef((e,r)=>{let{asChild:n,...i}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(n?l:t,{...i,ref:r})});return c.displayName=`Primitive.${t}`,{...e,[t]:c}},{});function tp(e){let t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...e)=>t.current?.(...e),[])}var th="dismissableLayer.update",tm=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tg=u.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:l,...c}=e,d=u.useContext(tm),[f,p]=u.useState(null),h=f?.ownerDocument??globalThis?.document,[,m]=u.useState({}),g=(0,tr.useComposedRefs)(t,e=>p(e)),v=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(y),b=f?v.indexOf(f):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,S=b>=x,N=function(e,t=globalThis?.document){let r=tp(e),n=u.useRef(!1),i=u.useRef(()=>{});return u.useEffect(()=>{let e=e=>{if(e.target&&!n.current){let n=function(){ty("dismissableLayer.pointerDownOutside",r,o,{discrete:!0})},o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=n,t.addEventListener("click",i.current,{once:!0})):n()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{let t=e.target,r=[...d.branches].some(e=>e.contains(t));S&&!r&&(i?.(e),s?.(e),e.defaultPrevented||l?.())},h),E=function(e,t=globalThis?.document){let r=tp(e),n=u.useRef(!1);return u.useEffect(()=>{let e=e=>{e.target&&!n.current&&ty("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{let t=e.target;![...d.branches].some(e=>e.contains(t))&&(o?.(e),s?.(e),e.defaultPrevented||l?.())},h);return!function(e,t=globalThis?.document){let r=tp(e);u.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{b===d.layers.size-1&&(n?.(e),!e.defaultPrevented&&l&&(e.preventDefault(),l()))},h),u.useEffect(()=>{if(f)return r&&(0===d.layersWithOutsidePointerEventsDisabled.size&&(os=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),tv(),()=>{r&&1===d.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=os)}},[f,h,r,d]),u.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),tv())},[f,d]),u.useEffect(()=>{let e=()=>m({});return document.addEventListener(th,e),()=>document.removeEventListener(th,e)},[]),(0,a.jsx)(tf.div,{...c,ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:te(e.onFocusCapture,E.onFocusCapture),onBlurCapture:te(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:te(e.onPointerDownCapture,N.onPointerDownCapture)})});function tv(){let e=new CustomEvent(th);document.dispatchEvent(e)}function ty(e,t,r,{discrete:n}){let i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});if(t&&i.addEventListener(e,t,{once:!0}),n)i&&e6.flushSync(()=>i.dispatchEvent(o));else i.dispatchEvent(o)}tg.displayName="DismissableLayer",u.forwardRef((e,t)=>{let r=u.useContext(tm),n=u.useRef(null),i=(0,tr.useComposedRefs)(t,n);return u.useEffect(()=>{let e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,a.jsx)(tf.div,{...e,ref:i})}).displayName="DismissableLayerBranch";var tx=0;function tb(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tw="focusScope.autoFocusOnMount",tS="focusScope.autoFocusOnUnmount",tN={bubbles:!1,cancelable:!0},tE=u.forwardRef((e,t)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[l,c]=u.useState(null),d=tp(i),f=tp(o),p=u.useRef(null),h=(0,tr.useComposedRefs)(t,e=>c(e)),m=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(n){let e=function(e){if(m.paused||!l)return;let t=e.target;l.contains(t)?p.current=t:tC(p.current,{select:!0})},t=function(e){if(m.paused||!l)return;let t=e.relatedTarget;null!==t&&(l.contains(t)||tC(p.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&tC(l)});return l&&r.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[n,l,m.paused]),u.useEffect(()=>{if(l){tA.add(m);let e=document.activeElement;if(!l.contains(e)){let t=new CustomEvent(tw,tN);l.addEventListener(tw,d),l.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(tC(n,{select:t}),document.activeElement!==r)return}(t_(l).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&tC(l))}return()=>{l.removeEventListener(tw,d),setTimeout(()=>{let t=new CustomEvent(tS,tN);l.addEventListener(tS,f),l.dispatchEvent(t),t.defaultPrevented||tC(e??document.body,{select:!0}),l.removeEventListener(tS,f),tA.remove(m)},0)}}},[l,d,f,m]);let g=u.useCallback(e=>{if(!r&&!n||m.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){var o;let t,n=e.currentTarget,[s,a]=[tj(t=t_(o=n),o),tj(t.reverse(),o)];s&&a?e.shiftKey||i!==a?e.shiftKey&&i===s&&(e.preventDefault(),r&&tC(a,{select:!0})):(e.preventDefault(),r&&tC(s,{select:!0})):i===n&&e.preventDefault()}},[r,n,m.paused]);return(0,a.jsx)(tf.div,{tabIndex:-1,...s,ref:h,onKeyDown:g})});function t_(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function tj(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function tC(e,{select:t=!1}={}){if(e&&e.focus){var r;let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}tE.displayName="FocusScope";var tA=(o=[],{add(e){let t=o[0];e!==t&&t?.pause(),(o=tR(o,e)).unshift(e)},remove(e){o=tR(o,e),o[0]?.resume()}});function tR(e,t){let r=[...e],n=r.indexOf(t);return -1!==n&&r.splice(n,1),r}var tk=globalThis?.document?u.useLayoutEffect:()=>{},tD=u[" useId ".trim().toString()]||(()=>void 0),tO=0;function tT(e){let[t,r]=u.useState(tD());return tk(()=>{e||r(e=>e??String(tO++))},[e]),e||(t?`radix-${t}`:"")}let tF=["top","right","bottom","left"],tV=Math.min,tM=Math.max,tP=Math.round,tI=Math.floor,tL=e=>({x:e,y:e}),tz={left:"right",right:"left",bottom:"top",top:"bottom"},tB={start:"end",end:"start"};function tU(e,t){return"function"==typeof e?e(t):e}function tW(e){return e.split("-")[0]}function t$(e){return e.split("-")[1]}function tH(e){return"x"===e?"y":"x"}function tq(e){return"y"===e?"height":"width"}let tZ=new Set(["top","bottom"]);function tK(e){return tZ.has(tW(e))?"y":"x"}function tX(e){return e.replace(/start|end/g,e=>tB[e])}let tY=["left","right"],tG=["right","left"],tQ=["top","bottom"],tJ=["bottom","top"];function t0(e){return e.replace(/left|right|bottom|top/g,e=>tz[e])}function t1(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function t2(e){let{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function t4(e,t,r){let n,{reference:i,floating:o}=e,s=tK(t),a=tH(tK(t)),l=tq(a),u=tW(t),c="y"===s,d=i.x+i.width/2-o.width/2,f=i.y+i.height/2-o.height/2,p=i[l]/2-o[l]/2;switch(u){case"top":n={x:d,y:i.y-o.height};break;case"bottom":n={x:d,y:i.y+i.height};break;case"right":n={x:i.x+i.width,y:f};break;case"left":n={x:i.x-o.width,y:f};break;default:n={x:i.x,y:i.y}}switch(t$(t)){case"start":n[a]-=p*(r&&c?-1:1);break;case"end":n[a]+=p*(r&&c?-1:1)}return n}async function t5(e,t){var r;void 0===t&&(t={});let{x:n,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=tU(t,e),h=t1(p),m=a[f?"floating"===d?"reference":"floating":d],g=t2(await o.getClippingRect({element:null==(r=await (null==o.isElement?void 0:o.isElement(m)))||r?m:m.contextElement||await (null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),v="floating"===d?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=await (null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),x=await (null==o.isElement?void 0:o.isElement(y))&&await (null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},b=t2(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-b.top+h.top)/x.y,bottom:(b.bottom-g.bottom+h.bottom)/x.y,left:(g.left-b.left+h.left)/x.x,right:(b.right-g.right+h.right)/x.x}}let t7=async(e,t,r)=>{let{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:s}=r,a=o.filter(Boolean),l=await (null==s.isRTL?void 0:s.isRTL(t)),u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=t4(u,n,l),f=n,p={},h=0;for(let r=0;r<a.length;r++){var m;let{name:o,fn:g}=a[r],{x:v,y:y,data:x,reset:b}=await g({x:c,y:d,initialPlacement:n,placement:f,strategy:i,middlewareData:p,rects:u,platform:{...s,detectOverflow:null!=(m=s.detectOverflow)?m:t5},elements:{reference:e,floating:t}});c=null!=v?v:c,d=null!=y?y:d,p={...p,[o]:{...p[o],...x}},b&&h<=50&&(h++,"object"==typeof b&&(b.placement&&(f=b.placement),b.rects&&(u=!0===b.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):b.rects),{x:c,y:d}=t4(u,f,l)),r=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:p}};function t9(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function t3(e){return tF.some(t=>e[t]>=0)}let t6=new Set(["left","top"]);async function t8(e,t){let{placement:r,platform:n,elements:i}=e,o=await (null==n.isRTL?void 0:n.isRTL(i.floating)),s=tW(r),a=t$(r),l="y"===tK(r),u=t6.has(s)?-1:1,c=o&&l?-1:1,d=tU(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:h}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&"number"==typeof h&&(p="end"===a?-1*h:h),l?{x:p*c,y:f*u}:{x:f*u,y:p*c}}function re(){return"u">typeof window}function rt(e){return ri(e)?(e.nodeName||"").toLowerCase():"#document"}function rr(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function rn(e){var t;return null==(t=(ri(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function ri(e){return!!re()&&(e instanceof Node||e instanceof rr(e).Node)}function ro(e){return!!re()&&(e instanceof Element||e instanceof rr(e).Element)}function rs(e){return!!re()&&(e instanceof HTMLElement||e instanceof rr(e).HTMLElement)}function ra(e){return!(!re()||"u"<typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof rr(e).ShadowRoot)}let rl=new Set(["inline","contents"]);function ru(e){let{overflow:t,overflowX:r,overflowY:n,display:i}=rb(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!rl.has(i)}let rc=new Set(["table","td","th"]),rd=[":popover-open",":modal"];function rf(e){return rd.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let rp=["transform","translate","scale","rotate","perspective"],rh=["transform","translate","scale","rotate","perspective","filter"],rm=["paint","layout","strict","content"];function rg(e){let t=rv(),r=ro(e)?rb(e):e;return rp.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||rh.some(e=>(r.willChange||"").includes(e))||rm.some(e=>(r.contain||"").includes(e))}function rv(){return!("u"<typeof CSS)&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let ry=new Set(["html","body","#document"]);function rx(e){return ry.has(rt(e))}function rb(e){return rr(e).getComputedStyle(e)}function rw(e){return ro(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function rS(e){if("html"===rt(e))return e;let t=e.assignedSlot||e.parentNode||ra(e)&&e.host||rn(e);return ra(t)?t.host:t}function rN(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);let i=function e(t){let r=rS(t);return rx(r)?t.ownerDocument?t.ownerDocument.body:t.body:rs(r)&&ru(r)?r:e(r)}(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),s=rr(i);if(o){let e=rE(s);return t.concat(s,s.visualViewport||[],ru(i)?i:[],e&&r?rN(e):[])}return t.concat(i,rN(i,[],r))}function rE(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function r_(e){let t=rb(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,i=rs(e),o=i?e.offsetWidth:r,s=i?e.offsetHeight:n,a=tP(r)!==o||tP(n)!==s;return a&&(r=o,n=s),{width:r,height:n,$:a}}function rj(e){return ro(e)?e:e.contextElement}function rC(e){let t=rj(e);if(!rs(t))return tL(1);let r=t.getBoundingClientRect(),{width:n,height:i,$:o}=r_(t),s=(o?tP(r.width):r.width)/n,a=(o?tP(r.height):r.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}let rA=tL(0);function rR(e){let t=rr(e);return rv()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:rA}function rk(e,t,r,n){var i;void 0===t&&(t=!1),void 0===r&&(r=!1);let o=e.getBoundingClientRect(),s=rj(e),a=tL(1);t&&(n?ro(n)&&(a=rC(n)):a=rC(e));let l=(void 0===(i=r)&&(i=!1),n&&(!i||n===rr(s))&&i)?rR(s):tL(0),u=(o.left+l.x)/a.x,c=(o.top+l.y)/a.y,d=o.width/a.x,f=o.height/a.y;if(s){let e=rr(s),t=n&&ro(n)?rr(n):n,r=e,i=rE(r);for(;i&&n&&t!==r;){let e=rC(i),t=i.getBoundingClientRect(),n=rb(i),o=t.left+(i.clientLeft+parseFloat(n.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(n.paddingTop))*e.y;u*=e.x,c*=e.y,d*=e.x,f*=e.y,u+=o,c+=s,i=rE(r=rr(i))}}return t2({width:d,height:f,x:u,y:c})}function rD(e,t){let r=rw(e).scrollLeft;return t?t.left+r:rk(rn(e)).left+r}function rO(e,t){let r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-rD(e,r),y:r.top+t.scrollTop}}let rT=new Set(["absolute","fixed"]);function rF(e,t,r){var n;let i;if("viewport"===t)i=function(e,t){let r=rr(e),n=rn(e),i=r.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;let e=rv();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}let u=rD(n);if(u<=0){let e=n.ownerDocument,t=e.body,r=getComputedStyle(t),i="CSS1Compat"===e.compatMode&&parseFloat(r.marginLeft)+parseFloat(r.marginRight)||0,s=Math.abs(n.clientWidth-t.clientWidth-i);s<=25&&(o-=s)}else u<=25&&(o+=u);return{width:o,height:s,x:a,y:l}}(e,r);else if("document"===t){let t,r,o,s,a,l,u;n=rn(e),t=rn(n),r=rw(n),o=n.ownerDocument.body,s=tM(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),a=tM(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight),l=-r.scrollLeft+rD(n),u=-r.scrollTop,"rtl"===rb(o).direction&&(l+=tM(t.clientWidth,o.clientWidth)-s),i={width:s,height:a,x:l,y:u}}else if(ro(t)){let e,n,o,s,a,l;n=(e=rk(t,!0,"fixed"===r)).top+t.clientTop,o=e.left+t.clientLeft,s=rs(t)?rC(t):tL(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,i={width:a,height:l,x:o*s.x,y:n*s.y}}else{let r=rR(e);i={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return t2(i)}function rV(e){return"static"===rb(e).position}function rM(e,t){if(!rs(e)||"fixed"===rb(e).position)return null;if(t)return t(e);let r=e.offsetParent;return rn(e)===r&&(r=r.ownerDocument.body),r}function rP(e,t){var r;let n=rr(e);if(rf(e))return n;if(!rs(e)){let t=rS(e);for(;t&&!rx(t);){if(ro(t)&&!rV(t))return t;t=rS(t)}return n}let i=rM(e,t);for(;i&&(r=i,rc.has(rt(r)))&&rV(i);)i=rM(i,t);return i&&rx(i)&&rV(i)&&!rg(i)?n:i||function(e){let t=rS(e);for(;rs(t)&&!rx(t);){if(rg(t))return t;if(rf(t))break;t=rS(t)}return null}(e)||n}let rI=async function(e){let t=this.getOffsetParent||rP,r=this.getDimensions,n=await r(e.floating);return{reference:function(e,t,r){let n=rs(t),i=rn(t),o="fixed"===r,s=rk(e,!0,o,t),a={scrollLeft:0,scrollTop:0},l=tL(0);if(n||!n&&!o)if(("body"!==rt(t)||ru(i))&&(a=rw(t)),n){let e=rk(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=rD(i));o&&!n&&i&&(l.x=rD(i));let u=!i||n||o?tL(0):rO(i,a);return{x:s.left+a.scrollLeft-l.x-u.x,y:s.top+a.scrollTop-l.y-u.y,width:s.width,height:s.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},rL={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e,o="fixed"===i,s=rn(n),a=!!t&&rf(t.floating);if(n===s||a&&o)return r;let l={scrollLeft:0,scrollTop:0},u=tL(1),c=tL(0),d=rs(n);if((d||!d&&!o)&&(("body"!==rt(n)||ru(s))&&(l=rw(n)),rs(n))){let e=rk(n);u=rC(n),c.x=e.x+n.clientLeft,c.y=e.y+n.clientTop}let f=!s||d||o?tL(0):rO(s,l);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x+f.x,y:r.y*u.y-l.scrollTop*u.y+c.y+f.y}},getDocumentElement:rn,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e,o=[..."clippingAncestors"===r?rf(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let n=rN(e,[],!1).filter(e=>ro(e)&&"body"!==rt(e)),i=null,o="fixed"===rb(e).position,s=o?rS(e):e;for(;ro(s)&&!rx(s);){let t=rb(s),r=rg(s);r||"fixed"!==t.position||(i=null),(o?!r&&!i:!r&&"static"===t.position&&!!i&&rT.has(i.position)||ru(s)&&!r&&function e(t,r){let n=rS(t);return!(n===r||!ro(n)||rx(n))&&("fixed"===rb(n).position||e(n,r))}(e,s))?n=n.filter(e=>e!==s):i=t,s=rS(s)}return t.set(e,n),n}(t,this._c):[].concat(r),n],s=o[0],a=o.reduce((e,r)=>{let n=rF(t,r,i);return e.top=tM(n.top,e.top),e.right=tV(n.right,e.right),e.bottom=tV(n.bottom,e.bottom),e.left=tM(n.left,e.left),e},rF(t,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:rP,getElementRects:rI,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=r_(e);return{width:t,height:r}},getScale:rC,isElement:ro,isRTL:function(e){return"rtl"===rb(e).direction}};function rz(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let rB=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:n,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=tU(e,t)||{};if(null==u)return{};let d=t1(c),f={x:r,y:n},p=tH(tK(i)),h=tq(p),m=await s.getDimensions(u),g="y"===p,v=g?"clientHeight":"clientWidth",y=o.reference[h]+o.reference[p]-f[p]-o.floating[h],x=f[p]-o.reference[p],b=await (null==s.getOffsetParent?void 0:s.getOffsetParent(u)),w=b?b[v]:0;w&&await (null==s.isElement?void 0:s.isElement(b))||(w=a.floating[v]||o.floating[h]);let S=w/2-m[h]/2-1,N=tV(d[g?"top":"left"],S),E=tV(d[g?"bottom":"right"],S),_=w-m[h]-E,j=w/2-m[h]/2+(y/2-x/2),C=tM(N,tV(j,_)),A=!l.arrow&&null!=t$(i)&&j!==C&&o.reference[h]/2-(j<N?N:E)-m[h]/2<0,R=A?j<N?j-N:j-_:0;return{[p]:f[p]+R,data:{[p]:C,centerOffset:j-C-R,...A&&{alignmentOffset:R}},reset:A}}});var rU="u">typeof document?u.useLayoutEffect:function(){};function rW(e,t){let r,n,i;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!rW(e[n],t[n]))return!1;return!0}if((r=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!({}).hasOwnProperty.call(t,i[n]))return!1;for(n=r;0!=n--;){let r=i[n];if(("_owner"!==r||!e.$$typeof)&&!rW(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function r$(e){return"u"<typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rH(e,t){let r=r$(e);return Math.round(t*r)/r}function rq(e){let t=u.useRef(e);return rU(()=>{t.current=e}),t}var rZ=u.forwardRef((e,t)=>{let{children:r,width:n=10,height:i=5,...o}=e;return(0,a.jsx)(tf.svg,{...o,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,a.jsx)("polygon",{points:"0,0 30,0 15,10"})})});rZ.displayName="Arrow";var rK="Popper",[rX,rY]=tt(rK),[rG,rQ]=rX(rK),rJ=e=>{let{__scopePopper:t,children:r}=e,[n,i]=u.useState(null);return(0,a.jsx)(rG,{scope:t,anchor:n,onAnchorChange:i,children:r})};rJ.displayName=rK;var r0="PopperAnchor",r1=u.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:n,...i}=e,o=rQ(r0,r),s=u.useRef(null),l=(0,tr.useComposedRefs)(t,s),c=u.useRef(null);return u.useEffect(()=>{let e=c.current;c.current=n?.current||s.current,e!==c.current&&o.onAnchorChange(c.current)}),n?null:(0,a.jsx)(tf.div,{...i,ref:l})});r1.displayName=r0;var r2="PopperContent",[r4,r5]=rX(r2),r7=u.forwardRef((e,t)=>{var r,n,i,o,s,l,c,d,f,p,h,m,g,v,y,x,b,w,S,N,E;let{__scopePopper:_,side:j="bottom",sideOffset:C=0,align:A="center",alignOffset:R=0,arrowPadding:k=0,avoidCollisions:D=!0,collisionBoundary:O=[],collisionPadding:T=0,sticky:F="partial",hideWhenDetached:V=!1,updatePositionStrategy:M="optimized",onPlaced:P,...I}=e,L=rQ(r2,_),[z,B]=u.useState(null),U=(0,tr.useComposedRefs)(t,e=>B(e)),[W,$]=u.useState(null),H=function(e){let[t,r]=u.useState(void 0);return tk(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,i;if(!Array.isArray(t)||!t.length)return;let o=t[0];if("borderBoxSize"in o){let e=o.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,i=t.blockSize}else n=e.offsetWidth,i=e.offsetHeight;r({width:n,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}(W),q=H?.width??0,Z=H?.height??0,K="number"==typeof T?T:{top:0,right:0,bottom:0,left:0,...T},X=Array.isArray(O)?O:[O],Y=X.length>0,G={padding:K,boundary:X.filter(r8),altBoundary:Y},{refs:Q,floatingStyles:J,placement:ee,isPositioned:et,middlewareData:er}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,f]=u.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=u.useState(n);rW(p,n)||h(n);let[m,g]=u.useState(null),[v,y]=u.useState(null),x=u.useCallback(e=>{e!==N.current&&(N.current=e,g(e))},[]),b=u.useCallback(e=>{e!==E.current&&(E.current=e,y(e))},[]),w=o||m,S=s||v,N=u.useRef(null),E=u.useRef(null),_=u.useRef(d),j=null!=l,C=rq(l),A=rq(i),R=rq(c),k=u.useCallback(()=>{var e,n;let i,o,s;if(!N.current||!E.current)return;let a={placement:t,strategy:r,middleware:p};A.current&&(a.platform=A.current),(e=N.current,n=E.current,i=new Map,s={...(o={platform:rL,...a}).platform,_c:i},t7(e,n,{...o,platform:s})).then(e=>{let t={...e,isPositioned:!1!==R.current};D.current&&!rW(_.current,t)&&(_.current=t,e6.flushSync(()=>{f(t)}))})},[p,t,r,A,R]);rU(()=>{!1===c&&_.current.isPositioned&&(_.current.isPositioned=!1,f(e=>({...e,isPositioned:!1})))},[c]);let D=u.useRef(!1);rU(()=>(D.current=!0,()=>{D.current=!1}),[]),rU(()=>{if(w&&(N.current=w),S&&(E.current=S),w&&S){if(C.current)return C.current(w,S,k);k()}},[w,S,k,C,j]);let O=u.useMemo(()=>({reference:N,floating:E,setReference:x,setFloating:b}),[x,b]),T=u.useMemo(()=>({reference:w,floating:S}),[w,S]),F=u.useMemo(()=>{let e={position:r,left:0,top:0};if(!T.floating)return e;let t=rH(T.floating,d.x),n=rH(T.floating,d.y);return a?{...e,transform:"translate("+t+"px, "+n+"px)",...r$(T.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}},[r,a,T.floating,d.x,d.y]);return u.useMemo(()=>({...d,update:k,refs:O,elements:T,floatingStyles:F}),[d,k,O,T,F])}({strategy:"fixed",placement:j+("center"!==A?"-"+A:""),whileElementsMounted:(...e)=>(function(e,t,r,n){let i;void 0===n&&(n={});let{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:u=!1}=n,c=rj(e),d=o||s?[...c?rN(c):[],...rN(t)]:[];d.forEach(e=>{o&&e.addEventListener("scroll",r,{passive:!0}),s&&e.addEventListener("resize",r)});let f=c&&l?function(e,t){let r,n=null,i=rn(e);function o(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return!function s(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),o();let u=e.getBoundingClientRect(),{left:c,top:d,width:f,height:p}=u;if(a||t(),!f||!p)return;let h={rootMargin:-tI(d)+"px "+-tI(i.clientWidth-(c+f))+"px "+-tI(i.clientHeight-(d+p))+"px "+-tI(c)+"px",threshold:tM(0,tV(1,l))||1},m=!0;function g(t){let n=t[0].intersectionRatio;if(n!==l){if(!m)return s();n?s(!1,n):r=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==n||rz(u,e.getBoundingClientRect())||s(),m=!1}try{n=new IntersectionObserver(g,{...h,root:i.ownerDocument})}catch(e){n=new IntersectionObserver(g,h)}n.observe(e)}(!0),o}(c,r):null,p=-1,h=null;a&&(h=new ResizeObserver(e=>{let[n]=e;n&&n.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=h)||e.observe(t)})),r()}),c&&!u&&h.observe(c),h.observe(t));let m=u?rk(e):null;return u&&function t(){let n=rk(e);m&&!rz(m,n)&&r(),m=n,i=requestAnimationFrame(t)}(),r(),()=>{var e;d.forEach(e=>{o&&e.removeEventListener("scroll",r),s&&e.removeEventListener("resize",r)}),null==f||f(),null==(e=h)||e.disconnect(),h=null,u&&cancelAnimationFrame(i)}})(...e,{animationFrame:"always"===M}),elements:{reference:L.anchor},middleware:[{...{name:"offset",options:i=r={mainAxis:C+Z,alignmentAxis:R},async fn(e){var t,r;let{x:n,y:o,placement:s,middlewareData:a}=e,l=await t8(e,i);return s===(null==(t=a.offset)?void 0:t.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:n+l.x,y:o+l.y,data:{...l,placement:s}}}},options:[r,n]},D&&{...{name:"shift",options:f=c={mainAxis:!0,crossAxis:!1,limiter:"partial"===F?{...(void 0===(l=o)&&(l={}),{options:l,fn(e){let{x:t,y:r,placement:n,rects:i,middlewareData:o}=e,{offset:s=0,mainAxis:a=!0,crossAxis:u=!0}=tU(l,e),c={x:t,y:r},d=tK(n),f=tH(d),p=c[f],h=c[d],m=tU(s,e),g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(a){let e="y"===f?"height":"width",t=i.reference[f]-i.floating[e]+g.mainAxis,r=i.reference[f]+i.reference[e]-g.mainAxis;p<t?p=t:p>r&&(p=r)}if(u){var v,y;let e="y"===f?"width":"height",t=t6.has(tW(n)),r=i.reference[d]-i.floating[e]+(t&&(null==(v=o.offset)?void 0:v[d])||0)+(t?0:g.crossAxis),s=i.reference[d]+i.reference[e]+(t?0:(null==(y=o.offset)?void 0:y[d])||0)-(t?g.crossAxis:0);h<r?h=r:h>s&&(h=s)}return{[f]:p,[d]:h}}}),options:[o,s]}:void 0,...G},async fn(e){let{x:t,y:r,placement:n,platform:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...l}=tU(f,e),u={x:t,y:r},c=await i.detectOverflow(e,l),d=tK(tW(n)),p=tH(d),h=u[p],m=u[d];if(o){let e="y"===p?"top":"left",t="y"===p?"bottom":"right",r=h+c[e],n=h-c[t];h=tM(r,tV(h,n))}if(s){let e="y"===d?"top":"left",t="y"===d?"bottom":"right",r=m+c[e],n=m-c[t];m=tM(r,tV(m,n))}let g=a.fn({...e,[p]:h,[d]:m});return{...g,data:{x:g.x-t,y:g.y-r,enabled:{[p]:o,[d]:s}}}}},options:[c,d]},D&&{...{name:"flip",options:m=p={...G},async fn(e){var t,r,n,i,o,s,a,l;let u,c,d,{placement:f,middlewareData:p,rects:h,initialPlacement:g,platform:v,elements:y}=e,{mainAxis:x=!0,crossAxis:b=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:E=!0,..._}=tU(m,e);if(null!=(t=p.arrow)&&t.alignmentOffset)return{};let j=tW(f),C=tK(g),A=tW(g)===g,R=await (null==v.isRTL?void 0:v.isRTL(y.floating)),k=w||(A||!E?[t0(g)]:(u=t0(g),[tX(g),u,tX(u)])),D="none"!==N;!w&&D&&k.push(...(c=t$(g),d=function(e,t,r){switch(e){case"top":case"bottom":if(r)return t?tG:tY;return t?tY:tG;case"left":case"right":return t?tQ:tJ;default:return[]}}(tW(g),"start"===N,R),c&&(d=d.map(e=>e+"-"+c),E&&(d=d.concat(d.map(tX)))),d));let O=[g,...k],T=await v.detectOverflow(e,_),F=[],V=(null==(r=p.flip)?void 0:r.overflows)||[];if(x&&F.push(T[j]),b){let e,t,r,n,i=(s=f,a=h,void 0===(l=R)&&(l=!1),e=t$(s),r=tq(t=tH(tK(s))),n="x"===t?e===(l?"end":"start")?"right":"left":"start"===e?"bottom":"top",a.reference[r]>a.floating[r]&&(n=t0(n)),[n,t0(n)]);F.push(T[i[0]],T[i[1]])}if(V=[...V,{placement:f,overflows:F}],!F.every(e=>e<=0)){let e=((null==(n=p.flip)?void 0:n.index)||0)+1,t=O[e];if(t&&("alignment"!==b||C===tK(t)||V.every(e=>tK(e.placement)!==C||e.overflows[0]>0)))return{data:{index:e,overflows:V},reset:{placement:t}};let r=null==(i=V.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:i.placement;if(!r)switch(S){case"bestFit":{let e=null==(o=V.filter(e=>{if(D){let t=tK(e.placement);return t===C||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:o[0];e&&(r=e);break}case"initialPlacement":r=g}if(f!==r)return{reset:{placement:r}}}return{}}},options:[p,h]},{...{name:"size",options:y=g={...G,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{let{width:i,height:o}=t.reference,s=e.floating.style;s.setProperty("--radix-popper-available-width",`${r}px`),s.setProperty("--radix-popper-available-height",`${n}px`),s.setProperty("--radix-popper-anchor-width",`${i}px`),s.setProperty("--radix-popper-anchor-height",`${o}px`)}},async fn(e){var t,r;let n,i,{placement:o,rects:s,platform:a,elements:l}=e,{apply:u=()=>{},...c}=tU(y,e),d=await a.detectOverflow(e,c),f=tW(o),p=t$(o),h="y"===tK(o),{width:m,height:g}=s.floating;"top"===f||"bottom"===f?(n=f,i=p===(await (null==a.isRTL?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(i=f,n="end"===p?"top":"bottom");let v=g-d.top-d.bottom,x=m-d.left-d.right,b=tV(g-d[n],v),w=tV(m-d[i],x),S=!e.middlewareData.shift,N=b,E=w;if(null!=(t=e.middlewareData.shift)&&t.enabled.x&&(E=x),null!=(r=e.middlewareData.shift)&&r.enabled.y&&(N=v),S&&!p){let e=tM(d.left,0),t=tM(d.right,0),r=tM(d.top,0),n=tM(d.bottom,0);h?E=m-2*(0!==e||0!==t?e+t:tM(d.left,d.right)):N=g-2*(0!==r||0!==n?r+n:tM(d.top,d.bottom))}await u({...e,availableWidth:E,availableHeight:N});let _=await a.getDimensions(l.floating);return m!==_.width||g!==_.height?{reset:{rects:!0}}:{}}},options:[g,v]},W&&{...{name:"arrow",options:w=x={element:W,padding:k},fn(e){let{element:t,padding:r}="function"==typeof w?w(e):w;return t&&({}).hasOwnProperty.call(t,"current")?null!=t.current?rB({element:t.current,padding:r}).fn(e):{}:t?rB({element:t,padding:r}).fn(e):{}}},options:[x,b]},ne({arrowWidth:q,arrowHeight:Z}),V&&{...{name:"hide",options:E=S={strategy:"referenceHidden",...G},async fn(e){let{rects:t,platform:r}=e,{strategy:n="referenceHidden",...i}=tU(E,e);switch(n){case"referenceHidden":{let n=t9(await r.detectOverflow(e,{...i,elementContext:"reference"}),t.reference);return{data:{referenceHiddenOffsets:n,referenceHidden:t3(n)}}}case"escaped":{let n=t9(await r.detectOverflow(e,{...i,altBoundary:!0}),t.floating);return{data:{escapedOffsets:n,escaped:t3(n)}}}default:return{}}}},options:[S,N]}]}),[en,ei]=nt(ee),eo=tp(P);tk(()=>{et&&eo?.()},[et,eo]);let es=er.arrow?.x,ea=er.arrow?.y,el=er.arrow?.centerOffset!==0,[eu,ec]=u.useState();return tk(()=>{z&&ec(window.getComputedStyle(z).zIndex)},[z]),(0,a.jsx)("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:et?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:eu,"--radix-popper-transform-origin":[er.transformOrigin?.x,er.transformOrigin?.y].join(" "),...er.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,a.jsx)(r4,{scope:_,placedSide:en,onArrowChange:$,arrowX:es,arrowY:ea,shouldHideArrow:el,children:(0,a.jsx)(tf.div,{"data-side":en,"data-align":ei,...I,ref:U,style:{...I.style,animation:et?void 0:"none"}})})})});r7.displayName=r2;var r9="PopperArrow",r3={top:"bottom",right:"left",bottom:"top",left:"right"},r6=u.forwardRef(function(e,t){let{__scopePopper:r,...n}=e,i=r5(r9,r),o=r3[i.placedSide];return(0,a.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,a.jsx)(rZ,{...n,ref:t,style:{...n.style,display:"block"}})})});function r8(e){return null!==e}r6.displayName=r9;var ne=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,s=o?0:e.arrowWidth,a=o?0:e.arrowHeight,[l,u]=nt(r),c={start:"0%",center:"50%",end:"100%"}[u],d=(i.arrow?.x??0)+s/2,f=(i.arrow?.y??0)+a/2,p="",h="";return"bottom"===l?(p=o?c:`${d}px`,h=`${-a}px`):"top"===l?(p=o?c:`${d}px`,h=`${n.floating.height+a}px`):"right"===l?(p=`${-a}px`,h=o?c:`${f}px`):"left"===l&&(p=`${n.floating.width+a}px`,h=o?c:`${f}px`),{data:{x:p,y:h}}}});function nt(e){let[t,r="center"]=e.split("-");return[t,r]}var nr=u.forwardRef((e,t)=>{let{container:r,...n}=e,[i,o]=u.useState(!1);tk(()=>o(!0),[]);let s=r||i&&globalThis?.document?.body;return s?e6.default.createPortal((0,a.jsx)(tf.div,{...n,ref:t}),s):null});nr.displayName="Portal";var nn=Symbol("radix.slottable");function ni(e){return u.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===nn}u[" useEffectEvent ".trim().toString()],u[" useInsertionEffect ".trim().toString()];var no=u[" useInsertionEffect ".trim().toString()]||tk;function ns({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){let[i,o,s]=function({defaultProp:e,onChange:t}){let[r,n]=u.useState(e),i=u.useRef(r),o=u.useRef(t);return no(()=>{o.current=t},[t]),u.useEffect(()=>{i.current!==r&&(o.current?.(r),i.current=r)},[r,i]),[r,n,o]}({defaultProp:t,onChange:r}),a=void 0!==e,l=a?e:i;{let t=u.useRef(void 0!==e);u.useEffect(()=>{let e=t.current;if(e!==a){let t=a?"controlled":"uncontrolled";console.warn(`${n} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=a},[a,n])}return[l,u.useCallback(t=>{if(a){let r="function"==typeof t?t(e):t;r!==e&&s.current?.(r)}else o(t)},[a,e,o,s])]}Symbol("RADIX:SYNC_STATE");var na=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"});u.forwardRef((e,t)=>(0,a.jsx)(tf.span,{...e,ref:t,style:{...na,...e.style}})).displayName="VisuallyHidden";var nl=new WeakMap,nu=new WeakMap,nc={},nd=0,nf=function(e){return e&&(e.host||nf(e.parentNode))},np=function(e,t,r,n){var i=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var r=nf(e);return r&&t.contains(r)?r:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});nc[r]||(nc[r]=new WeakMap);var o=nc[r],s=[],a=new Set,l=new Set(i),u=function(e){!e||a.has(e)||(a.add(e),u(e.parentNode))};i.forEach(u);var c=function(e){!e||l.has(e)||Array.prototype.forEach.call(e.children,function(e){if(a.has(e))c(e);else try{var t=e.getAttribute(n),i=null!==t&&"false"!==t,l=(nl.get(e)||0)+1,u=(o.get(e)||0)+1;nl.set(e,l),o.set(e,u),s.push(e),1===l&&i&&nu.set(e,!0),1===u&&e.setAttribute(r,"true"),i||e.setAttribute(n,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return c(t),a.clear(),nd++,function(){s.forEach(function(e){var t=nl.get(e)-1,i=o.get(e)-1;nl.set(e,t),o.set(e,i),t||(nu.has(e)||e.removeAttribute(n),nu.delete(e)),i||e.removeAttribute(r)}),--nd||(nl=new WeakMap,nl=new WeakMap,nu=new WeakMap,nc={})}},nh=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=t||("u"<typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),np(n,i,r,"aria-hidden")):function(){return null}},nm=function(){return(nm=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function ng(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}var nv=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),ny="width-before-scroll-bar";function nx(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var nb="u">typeof window?u.useLayoutEffect:u.useEffect,nw=new WeakMap,nS=(void 0===i8&&(i8={}),(void 0===oe&&(oe=function(e){return e}),ot=[],or=!1,on={read:function(){if(or)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return ot.length?ot[ot.length-1]:null},useMedium:function(e){var t=oe(e,or);return ot.push(t),function(){ot=ot.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(or=!0;ot.length;){var t=ot;ot=[],t.forEach(e)}ot={push:function(t){return e(t)},filter:function(){return ot}}},assignMedium:function(e){or=!0;var t=[];if(ot.length){var r=ot;ot=[],r.forEach(e),t=ot}var n=function(){var r=t;t=[],r.forEach(e)},i=function(){return Promise.resolve().then(n)};i(),ot={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),ot}}}}).options=nm({async:!0,ssr:!1},i8),on),nN=function(){},nE=u.forwardRef(function(e,t){var r,n,i,o,s=u.useRef(null),a=u.useState({onScrollCapture:nN,onWheelCapture:nN,onTouchMoveCapture:nN}),l=a[0],c=a[1],d=e.forwardProps,f=e.children,p=e.className,h=e.removeScrollBar,m=e.enabled,g=e.shards,v=e.sideCar,y=e.noRelative,x=e.noIsolation,b=e.inert,w=e.allowPinchZoom,S=e.as,N=e.gapMode,E=ng(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=(r=[s,t],n=function(e){return r.forEach(function(t){return nx(t,e)})},(i=(0,u.useState)(function(){return{value:null,callback:n,facade:{get current(){return i.value},set current(value){var e=i.value;e!==value&&(i.value=value,i.callback(value,e))}}}})[0]).callback=n,o=i.facade,nb(function(){var e=nw.get(o);if(e){var t=new Set(e),n=new Set(r),i=o.current;t.forEach(function(e){n.has(e)||nx(e,null)}),n.forEach(function(e){t.has(e)||nx(e,i)})}nw.set(o,r)},[r]),o),j=nm(nm({},E),l);return u.createElement(u.Fragment,null,m&&u.createElement(v,{sideCar:nS,removeScrollBar:h,shards:g,noRelative:y,noIsolation:x,inert:b,setCallbacks:c,allowPinchZoom:!!w,lockRef:s,gapMode:N}),d?u.cloneElement(u.Children.only(f),nm(nm({},j),{ref:_})):u.createElement(void 0===S?"div":S,nm({},j,{className:p,ref:_}),f))});nE.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},nE.classNames={fullWidth:ny,zeroRight:nv};var n_=function(e){var t=e.sideCar,r=ng(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw Error("Sidecar medium not found");return u.createElement(n,nm({},r))};n_.isSideCarExport=!0;var nj=function(){var e=0,t=null;return{add:function(r){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=oa||("u">typeof __webpack_nonce__?__webpack_nonce__:void 0);return t&&e.setAttribute("nonce",t),e}())){var n,i;(n=t).styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r)),i=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(i)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},nC=function(){var e=nj();return function(t,r){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},nA=function(){var e=nC();return function(t){return e(t.styles,t.dynamic),null}},nR={left:0,top:0,right:0,gap:0},nk=function(e){return parseInt(e||"",10)||0},nD=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[nk(r),nk(n),nk(i)]},nO=function(e){if(void 0===e&&(e="margin"),"u"<typeof window)return nR;var t=nD(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},nT=nA(),nF="data-scroll-locked",nV=function(e,t,r,n){var i=e.left,o=e.top,s=e.right,a=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(a,"px ").concat(n,";\n  }\n  body[").concat(nF,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(s,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(nv," {\n    right: ").concat(a,"px ").concat(n,";\n  }\n  \n  .").concat(ny," {\n    margin-right: ").concat(a,"px ").concat(n,";\n  }\n  \n  .").concat(nv," .").concat(nv," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(ny," .").concat(ny," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(nF,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(a,"px;\n  }\n")},nM=function(){var e=parseInt(document.body.getAttribute(nF)||"0",10);return isFinite(e)?e:0},nP=function(){u.useEffect(function(){return document.body.setAttribute(nF,(nM()+1).toString()),function(){var e=nM()-1;e<=0?document.body.removeAttribute(nF):document.body.setAttribute(nF,e.toString())}},[])},nI=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=void 0===n?"margin":n;nP();var o=u.useMemo(function(){return nO(i)},[i]);return u.createElement(nT,{styles:nV(o,!t,i,r?"":"!important")})},nL=!1;if("u">typeof window)try{var nz=Object.defineProperty({},"passive",{get:function(){return nL=!0,!0}});window.addEventListener("test",nz,nz),window.removeEventListener("test",nz,nz)}catch(e){nL=!1}var nB=!!nL&&{passive:!1},nU=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&(r.overflowY!==r.overflowX||"TEXTAREA"===e.tagName||"visible"!==r[t])},nW=function(e,t){var r=t.ownerDocument,n=t;do{if("u">typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),n$(e,n)){var i=nH(e,n);if(i[1]>i[2])return!0}n=n.parentNode}while(n&&n!==r.body)return!1},n$=function(e,t){return"v"===e?nU(t,"overflowY"):nU(t,"overflowX")},nH=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},nq=function(e,t,r,n,i){var o,s=(o=window.getComputedStyle(t).direction,"h"===e&&"rtl"===o?-1:1),a=s*n,l=r.target,u=t.contains(l),c=!1,d=a>0,f=0,p=0;do{if(!l)break;var h=nH(e,l),m=h[0],g=h[1]-h[2]-s*m;(m||g)&&n$(e,l)&&(f+=g,p+=m);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!u&&l!==document.body||u&&(t.contains(l)||t===l))return d&&(i&&1>Math.abs(f)||!i&&a>f)?c=!0:!d&&(i&&1>Math.abs(p)||!i&&-a>p)&&(c=!0),c},nZ=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nK=function(e){return[e.deltaX,e.deltaY]},nX=function(e){return e&&"current"in e?e.current:e},nY=0,nG=[];let nQ=(oi=function(e){var t=u.useRef([]),r=u.useRef([0,0]),n=u.useRef(),i=u.useState(nY++)[0],o=u.useState(nA)[0],s=u.useRef(e);u.useEffect(function(){s.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=(function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(nX),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=u.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var i,o=nZ(e),a=r.current,l="deltaX"in e?e.deltaX:a[0]-o[0],u="deltaY"in e?e.deltaY:a[1]-o[1],c=e.target,d=Math.abs(l)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===d&&"range"===c.type)return!1;var f=window.getSelection(),p=f&&f.anchorNode;if(p&&(p===c||p.contains(c)))return!1;var h=nW(d,c);if(!h)return!0;if(h?i=d:(i="v"===d?"h":"v",h=nW(d,c)),!h)return!1;if(!n.current&&"changedTouches"in e&&(l||u)&&(n.current=i),!i)return!0;var m=n.current||i;return nq(m,t,e,"h"===m?l:u,!0)},[]),l=u.useCallback(function(e){if(nG.length&&nG[nG.length-1]===o){var r="deltaY"in e?nK(e):nZ(e),n=t.current.filter(function(t){var n;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(n=t.delta,n[0]===r[0]&&n[1]===r[1])})[0];if(n&&n.should){e.cancelable&&e.preventDefault();return}if(!n){var i=(s.current.shards||[]).map(nX).filter(Boolean).filter(function(t){return t.contains(e.target)});(i.length>0?a(e,i[0]):!s.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),c=u.useCallback(function(e,r,n,i){var o={name:e,delta:r,target:n,should:i,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(n)};t.current.push(o),setTimeout(function(){t.current=t.current.filter(function(e){return e!==o})},1)},[]),d=u.useCallback(function(e){r.current=nZ(e),n.current=void 0},[]),f=u.useCallback(function(t){c(t.type,nK(t),t.target,a(t,e.lockRef.current))},[]),p=u.useCallback(function(t){c(t.type,nZ(t),t.target,a(t,e.lockRef.current))},[]);u.useEffect(function(){return nG.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,nB),document.addEventListener("touchmove",l,nB),document.addEventListener("touchstart",d,nB),function(){nG=nG.filter(function(e){return e!==o}),document.removeEventListener("wheel",l,nB),document.removeEventListener("touchmove",l,nB),document.removeEventListener("touchstart",d,nB)}},[]);var h=e.removeScrollBar,m=e.inert;return u.createElement(u.Fragment,null,m?u.createElement(o,{styles:"\n  .block-interactivity-".concat(i," {pointer-events: none;}\n  .allow-interactivity-").concat(i," {pointer-events: all;}\n")}):null,h?u.createElement(nI,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},nS.useMedium(oi),n_);var nJ=u.forwardRef(function(e,t){return u.createElement(nE,nm({},e,{ref:t,sideCar:nQ}))});nJ.classNames=nE.classNames;var n0=[" ","Enter","ArrowUp","ArrowDown"],n1=[" ","Enter"],n2="Select",[n4,n5,n7]=function(e){let t=e+"CollectionProvider",[r,n]=tt(t),[i,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=e=>{let{scope:t,children:r}=e,n=u.default.useRef(null),o=u.default.useRef(new Map).current;return(0,a.jsx)(i,{scope:t,itemMap:o,collectionRef:n,children:r})};s.displayName=t;let l=e+"CollectionSlot",c=tn(l),d=u.default.forwardRef((e,t)=>{let{scope:r,children:n}=e,i=o(l,r),s=(0,tr.useComposedRefs)(t,i.collectionRef);return(0,a.jsx)(c,{ref:s,children:n})});d.displayName=l;let f=e+"CollectionItemSlot",p="data-radix-collection-item",h=tn(f),m=u.default.forwardRef((e,t)=>{let{scope:r,children:n,...i}=e,s=u.default.useRef(null),l=(0,tr.useComposedRefs)(t,s),c=o(f,r);return u.default.useEffect(()=>(c.itemMap.set(s,{ref:s,...i}),()=>void c.itemMap.delete(s))),(0,a.jsx)(h,{...{[p]:""},ref:l,children:n})});return m.displayName=f,[{Provider:s,Slot:d,ItemSlot:m},function(t){let r=o(e+"CollectionConsumer",t);return u.default.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${p}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},n]}(n2),[n9,n3]=tt(n2,[n7,rY]),n6=rY(),[n8,ie]=n9(n2),[it,ir]=n9(n2),ii=e=>{let t,{__scopeSelect:r,children:n,open:i,defaultOpen:o,onOpenChange:s,value:l,defaultValue:c,onValueChange:d,dir:f,name:p,autoComplete:h,disabled:m,required:g,form:v}=e,y=n6(r),[x,b]=u.useState(null),[w,S]=u.useState(null),[N,E]=u.useState(!1),_=(t=u.useContext(tu),f||t||"ltr"),[j,C]=ns({prop:i,defaultProp:o??!1,onChange:s,caller:n2}),[A,R]=ns({prop:l,defaultProp:c,onChange:d,caller:n2}),k=u.useRef(null),D=!x||v||!!x.closest("form"),[O,T]=u.useState(new Set),F=Array.from(O).map(e=>e.props.value).join(";");return(0,a.jsx)(rJ,{...y,children:(0,a.jsxs)(n8,{required:g,scope:r,trigger:x,onTriggerChange:b,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:N,onValueNodeHasChildrenChange:E,contentId:tT(),value:A,onValueChange:R,open:j,onOpenChange:C,dir:_,triggerPointerDownPosRef:k,disabled:m,children:[(0,a.jsx)(n4.Provider,{scope:r,children:(0,a.jsx)(it,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(e=>{T(t=>new Set(t).add(e))},[]),onNativeOptionRemove:u.useCallback(e=>{T(t=>{let r=new Set(t);return r.delete(e),r})},[]),children:n})}),D?(0,a.jsxs)(i$,{"aria-hidden":!0,required:g,tabIndex:-1,name:p,autoComplete:h,value:A,onChange:e=>R(e.target.value),disabled:m,form:v,children:[void 0===A?(0,a.jsx)("option",{value:""}):null,Array.from(O)]},F):null]})})};ii.displayName=n2;var io="SelectTrigger",is=u.forwardRef((e,t)=>{let{__scopeSelect:r,disabled:n=!1,...i}=e,o=n6(r),s=ie(io,r),l=s.disabled||n,c=(0,tr.useComposedRefs)(t,s.onTriggerChange),d=n5(r),f=u.useRef("touch"),[p,h,m]=iq(e=>{let t=d().filter(e=>!e.disabled),r=t.find(e=>e.value===s.value),n=iZ(t,e,r);void 0!==n&&s.onValueChange(n.value)}),g=e=>{l||(s.onOpenChange(!0),m()),e&&(s.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,a.jsx)(r1,{asChild:!0,...o,children:(0,a.jsx)(tf.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":iH(s.value)?"":void 0,...i,ref:c,onClick:te(i.onClick,e=>{e.currentTarget.focus(),"mouse"!==f.current&&g(e)}),onPointerDown:te(i.onPointerDown,e=>{f.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(g(e),e.preventDefault())}),onKeyDown:te(i.onKeyDown,e=>{let t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||h(e.key),(!t||" "!==e.key)&&n0.includes(e.key)&&(g(),e.preventDefault())})})})});is.displayName=io;var ia="SelectValue",il=u.forwardRef((e,t)=>{let{__scopeSelect:r,className:n,style:i,children:o,placeholder:s="",...l}=e,u=ie(ia,r),{onValueNodeHasChildrenChange:c}=u,d=void 0!==o,f=(0,tr.useComposedRefs)(t,u.onValueNodeChange);return tk(()=>{c(d)},[c,d]),(0,a.jsx)(tf.span,{...l,ref:f,style:{pointerEvents:"none"},children:iH(u.value)?(0,a.jsx)(a.Fragment,{children:s}):o})});il.displayName=ia;var iu=u.forwardRef((e,t)=>{let{__scopeSelect:r,children:n,...i}=e;return(0,a.jsx)(tf.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});iu.displayName="SelectIcon";var ic=e=>(0,a.jsx)(nr,{asChild:!0,...e});ic.displayName="SelectPortal";var id="SelectContent",ip=u.forwardRef((e,t)=>{let r=ie(id,e.__scopeSelect),[n,i]=u.useState();return(tk(()=>{i(new DocumentFragment)},[]),r.open)?(0,a.jsx)(iv,{...e,ref:t}):n?e6.createPortal((0,a.jsx)(ih,{scope:e.__scopeSelect,children:(0,a.jsx)(n4.Slot,{scope:e.__scopeSelect,children:(0,a.jsx)("div",{children:e.children})})}),n):null});ip.displayName=id;var[ih,im]=n9(id),ig=((s=u.forwardRef((e,t)=>{let{children:r,...n}=e;if(u.isValidElement(r)){var i;let e,o,s=(i=r,(o=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(o=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),a=function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{let t=o(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==u.Fragment&&(a.ref=t?(0,tr.composeRefs)(t,s):s),u.cloneElement(r,a)}return u.Children.count(r)>1?u.Children.only(null):null})).displayName="SelectContent.RemoveScroll.SlotClone",t=s,(r=u.forwardRef((e,r)=>{let{children:n,...i}=e,o=u.Children.toArray(n),s=o.find(ni);if(s){let e=s.props.children,n=o.map(t=>t!==s?t:u.Children.count(e)>1?u.Children.only(null):u.isValidElement(e)?e.props.children:null);return(0,a.jsx)(t,{...i,ref:r,children:u.isValidElement(e)?u.cloneElement(e,void 0,n):null})}return(0,a.jsx)(t,{...i,ref:r,children:n})})).displayName="SelectContent.RemoveScroll.Slot",r),iv=u.forwardRef((e,t)=>{let{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:y,...x}=e,b=ie(id,r),[w,S]=u.useState(null),[N,E]=u.useState(null),_=(0,tr.useComposedRefs)(t,e=>S(e)),[j,C]=u.useState(null),[A,R]=u.useState(null),k=n5(r),[D,O]=u.useState(!1),T=u.useRef(!1);u.useEffect(()=>{if(w)return nh(w)},[w]),u.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tb()),document.body.insertAdjacentElement("beforeend",e[1]??tb()),tx++,()=>{1===tx&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tx--}},[]);let F=u.useCallback(e=>{let[t,...r]=k().map(e=>e.ref.current),[n]=r.slice(-1),i=document.activeElement;for(let r of e)if(r===i||(r?.scrollIntoView({block:"nearest"}),r===t&&N&&(N.scrollTop=0),r===n&&N&&(N.scrollTop=N.scrollHeight),r?.focus(),document.activeElement!==i))return},[k,N]),V=u.useCallback(()=>F([j,w]),[F,j,w]);u.useEffect(()=>{D&&V()},[D,V]);let{onOpenChange:M,triggerPointerDownPosRef:P}=b;u.useEffect(()=>{if(w){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(P.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(P.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():w.contains(r.target)||M(!1),document.removeEventListener("pointermove",t),P.current=null};return null!==P.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[w,M,P]),u.useEffect(()=>{let e=()=>M(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[M]);let[I,L]=iq(e=>{let t=k().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),n=iZ(t,e,r);n&&setTimeout(()=>n.ref.current.focus())}),z=u.useCallback((e,t,r)=>{let n=!T.current&&!r;(void 0!==b.value&&b.value===t||n)&&(C(e),n&&(T.current=!0))},[b.value]),B=u.useCallback(()=>w?.focus(),[w]),U=u.useCallback((e,t,r)=>{let n=!T.current&&!r;(void 0!==b.value&&b.value===t||n)&&R(e)},[b.value]),W="popper"===n?ix:iy,$=W===ix?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:y}:{};return(0,a.jsx)(ih,{scope:r,content:w,viewport:N,onViewportChange:E,itemRefCallback:z,selectedItem:j,onItemLeave:B,itemTextRefCallback:U,focusSelectedItem:V,selectedItemText:A,position:n,isPositioned:D,searchRef:I,children:(0,a.jsx)(nJ,{as:ig,allowPinchZoom:!0,children:(0,a.jsx)(tE,{asChild:!0,trapped:b.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:te(i,e=>{b.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,a.jsx)(tg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:(0,a.jsx)(W,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:e=>e.preventDefault(),...x,...$,onPlaced:()=>O(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:te(x.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||L(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=k().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,n=t.indexOf(r);t=t.slice(n+1)}setTimeout(()=>F(t)),e.preventDefault()}})})})})})})});iv.displayName="SelectContentImpl";var iy=u.forwardRef((e,t)=>{let{__scopeSelect:r,onPlaced:n,...i}=e,o=ie(id,r),s=im(id,r),[l,c]=u.useState(null),[d,f]=u.useState(null),p=(0,tr.useComposedRefs)(t,e=>f(e)),h=n5(r),m=u.useRef(!1),g=u.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:x,focusSelectedItem:b}=s,w=u.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&d&&v&&y&&x){let e=o.trigger.getBoundingClientRect(),t=d.getBoundingClientRect(),r=o.valueNode.getBoundingClientRect(),i=x.getBoundingClientRect();if("rtl"!==o.dir){let n=i.left-t.left,o=r.left-n,s=e.left-o,a=e.width+s,u=Math.max(a,t.width),c=e8(o,[10,Math.max(10,window.innerWidth-10-u)]);l.style.minWidth=a+"px",l.style.left=c+"px"}else{let n=t.right-i.right,o=window.innerWidth-r.right-n,s=window.innerWidth-e.right-o,a=e.width+s,u=Math.max(a,t.width),c=e8(o,[10,Math.max(10,window.innerWidth-10-u)]);l.style.minWidth=a+"px",l.style.right=c+"px"}let s=h(),a=window.innerHeight-20,u=v.scrollHeight,c=window.getComputedStyle(d),f=parseInt(c.borderTopWidth,10),p=parseInt(c.paddingTop,10),g=parseInt(c.borderBottomWidth,10),b=f+p+u+parseInt(c.paddingBottom,10)+g,w=Math.min(5*y.offsetHeight,b),S=window.getComputedStyle(v),N=parseInt(S.paddingTop,10),E=parseInt(S.paddingBottom,10),_=e.top+e.height/2-10,j=y.offsetHeight/2,C=f+p+(y.offsetTop+j);if(C<=_){let e=s.length>0&&y===s[s.length-1].ref.current;l.style.bottom="0px";let t=Math.max(a-_,j+(e?E:0)+(d.clientHeight-v.offsetTop-v.offsetHeight)+g);l.style.height=C+t+"px"}else{let e=s.length>0&&y===s[0].ref.current;l.style.top="0px";let t=Math.max(_,f+v.offsetTop+(e?N:0)+j);l.style.height=t+(b-C)+"px",v.scrollTop=C-_+v.offsetTop}l.style.margin="10px 0",l.style.minHeight=w+"px",l.style.maxHeight=a+"px",n?.(),requestAnimationFrame(()=>m.current=!0)}},[h,o.trigger,o.valueNode,l,d,v,y,x,o.dir,n]);tk(()=>w(),[w]);let[S,N]=u.useState();tk(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);let E=u.useCallback(e=>{e&&!0===g.current&&(w(),b?.(),g.current=!1)},[w,b]);return(0,a.jsx)(ib,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:E,children:(0,a.jsx)("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:(0,a.jsx)(tf.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});iy.displayName="SelectItemAlignedPosition";var ix=u.forwardRef((e,t)=>{let{__scopeSelect:r,align:n="start",collisionPadding:i=10,...o}=e,s=n6(r);return(0,a.jsx)(r7,{...s,...o,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ix.displayName="SelectPopperPosition";var[ib,iw]=n9(id,{}),iS="SelectViewport",iN=u.forwardRef((e,t)=>{let{__scopeSelect:r,nonce:n,...i}=e,o=im(iS,r),s=iw(iS,r),l=(0,tr.useComposedRefs)(t,o.onViewportChange),c=u.useRef(0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),(0,a.jsx)(n4.Slot,{scope:r,children:(0,a.jsx)(tf.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:te(i.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=s;if(n?.current&&r){let e=Math.abs(c.current-t.scrollTop);if(e>0){let n=window.innerHeight-20,i=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(i<n){let o=i+e,s=Math.min(n,o),a=o-s;r.style.height=s+"px","0px"===r.style.bottom&&(t.scrollTop=a>0?a:0,r.style.justifyContent="flex-end")}}}c.current=t.scrollTop})})})]})});iN.displayName=iS;var iE="SelectGroup",[i_,ij]=n9(iE);u.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e,i=tT();return(0,a.jsx)(i_,{scope:r,id:i,children:(0,a.jsx)(tf.div,{role:"group","aria-labelledby":i,...n,ref:t})})}).displayName=iE;var iC="SelectLabel",iA=u.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e,i=ij(iC,r);return(0,a.jsx)(tf.div,{id:i.id,...n,ref:t})});iA.displayName=iC;var iR="SelectItem",[ik,iD]=n9(iR),iO=u.forwardRef((e,t)=>{let{__scopeSelect:r,value:n,disabled:i=!1,textValue:o,...s}=e,l=ie(iR,r),c=im(iR,r),d=l.value===n,[f,p]=u.useState(o??""),[h,m]=u.useState(!1),g=(0,tr.useComposedRefs)(t,e=>c.itemRefCallback?.(e,n,i)),v=tT(),y=u.useRef("touch"),x=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(""===n)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,a.jsx)(ik,{scope:r,value:n,disabled:i,textId:v,isSelected:d,onItemTextChange:u.useCallback(e=>{p(t=>t||(e?.textContent??"").trim())},[]),children:(0,a.jsx)(n4.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:(0,a.jsx)(tf.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:g,onFocus:te(s.onFocus,()=>m(!0)),onBlur:te(s.onBlur,()=>m(!1)),onClick:te(s.onClick,()=>{"mouse"!==y.current&&x()}),onPointerUp:te(s.onPointerUp,()=>{"mouse"===y.current&&x()}),onPointerDown:te(s.onPointerDown,e=>{y.current=e.pointerType}),onPointerMove:te(s.onPointerMove,e=>{y.current=e.pointerType,i?c.onItemLeave?.():"mouse"===y.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:te(s.onPointerLeave,e=>{e.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:te(s.onKeyDown,e=>{(c.searchRef?.current===""||" "!==e.key)&&(n1.includes(e.key)&&x()," "===e.key&&e.preventDefault())})})})})});iO.displayName=iR;var iT="SelectItemText",iF=u.forwardRef((e,t)=>{let{__scopeSelect:r,className:n,style:i,...o}=e,s=ie(iT,r),l=im(iT,r),c=iD(iT,r),d=ir(iT,r),[f,p]=u.useState(null),h=(0,tr.useComposedRefs)(t,e=>p(e),c.onItemTextChange,e=>l.itemTextRefCallback?.(e,c.value,c.disabled)),m=f?.textContent,g=u.useMemo(()=>(0,a.jsx)("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=d;return tk(()=>(v(g),()=>y(g)),[v,y,g]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tf.span,{id:c.textId,...o,ref:h}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?e6.createPortal(o.children,s.valueNode):null]})});iF.displayName=iT;var iV="SelectItemIndicator",iM=u.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e;return iD(iV,r).isSelected?(0,a.jsx)(tf.span,{"aria-hidden":!0,...n,ref:t}):null});iM.displayName=iV;var iP="SelectScrollUpButton",iI=u.forwardRef((e,t)=>{let r=im(iP,e.__scopeSelect),n=iw(iP,e.__scopeSelect),[i,o]=u.useState(!1),s=(0,tr.useComposedRefs)(t,n.onScrollButtonChange);return tk(()=>{if(r.viewport&&r.isPositioned){let e=function(){o(t.scrollTop>0)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),i?(0,a.jsx)(iB,{...e,ref:s,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});iI.displayName=iP;var iL="SelectScrollDownButton",iz=u.forwardRef((e,t)=>{let r=im(iL,e.__scopeSelect),n=iw(iL,e.__scopeSelect),[i,o]=u.useState(!1),s=(0,tr.useComposedRefs)(t,n.onScrollButtonChange);return tk(()=>{if(r.viewport&&r.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;o(Math.ceil(t.scrollTop)<e)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),i?(0,a.jsx)(iB,{...e,ref:s,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});iz.displayName=iL;var iB=u.forwardRef((e,t)=>{let{__scopeSelect:r,onAutoScroll:n,...i}=e,o=im("SelectScrollButton",r),s=u.useRef(null),l=n5(r),c=u.useCallback(()=>{null!==s.current&&(window.clearInterval(s.current),s.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),tk(()=>{let e=l().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[l]),(0,a.jsx)(tf.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:te(i.onPointerDown,()=>{null===s.current&&(s.current=window.setInterval(n,50))}),onPointerMove:te(i.onPointerMove,()=>{o.onItemLeave?.(),null===s.current&&(s.current=window.setInterval(n,50))}),onPointerLeave:te(i.onPointerLeave,()=>{c()})})}),iU=u.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e;return(0,a.jsx)(tf.div,{"aria-hidden":!0,...n,ref:t})});iU.displayName="SelectSeparator";var iW="SelectArrow";u.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e,i=n6(r),o=ie(iW,r),s=im(iW,r);return o.open&&"popper"===s.position?(0,a.jsx)(r6,{...i,...n,ref:t}):null}).displayName=iW;var i$=u.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{let i,o=u.useRef(null),s=(0,tr.useComposedRefs)(n,o),l=(i=u.useRef({value:t,previous:t}),u.useMemo(()=>(i.current.value!==t&&(i.current.previous=i.current.value,i.current.value=t),i.current.previous),[t]));return u.useEffect(()=>{let e=o.current;if(!e)return;let r=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(l!==t&&r){let n=new Event("change",{bubbles:!0});r.call(e,t),e.dispatchEvent(n)}},[l,t]),(0,a.jsx)(tf.select,{...r,style:{...na,...r.style},ref:s,defaultValue:t})});function iH(e){return""===e||void 0===e}function iq(e){let t=tp(e),r=u.useRef(""),n=u.useRef(0),i=u.useCallback(e=>{let i=r.current+e;t(i),function e(t){r.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout(()=>e(""),1e3))}(i)},[t]),o=u.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,o]}function iZ(e,t,r){var n,i;let o=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,s=r?e.indexOf(r):-1,a=(n=e,i=Math.max(s,0),n.map((e,t)=>n[(i+t)%n.length]));1===o.length&&(a=a.filter(e=>e!==r));let l=a.find(e=>e.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==r?l:void 0}i$.displayName="SelectBubbleInput";var iK=e.i(75254);let iX=(0,iK.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var iY=e.i(64659),iG=e.i(55900);let iQ=u.forwardRef(({className:e,children:t,...r},n)=>(0,a.jsxs)(is,{ref:n,className:(0,e7.cn)("flex h-10 w-full items-center justify-between rounded-sm border border-border bg-surface px-3 py-2 text-sm text-text-primary","placeholder:text-text-muted","focus:outline-none focus:ring-2 focus:ring-accent-primary/50 focus:border-accent-primary","disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,(0,a.jsx)(iu,{asChild:!0,children:(0,a.jsx)(iY.ChevronDown,{className:"h-4 w-4 text-text-muted"})})]}));iQ.displayName=is.displayName;let iJ=u.forwardRef(({className:e,...t},r)=>(0,a.jsx)(iI,{ref:r,className:(0,e7.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(iG.ChevronUp,{className:"h-4 w-4"})}));iJ.displayName=iI.displayName;let i0=u.forwardRef(({className:e,...t},r)=>(0,a.jsx)(iz,{ref:r,className:(0,e7.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(iY.ChevronDown,{className:"h-4 w-4"})}));i0.displayName=iz.displayName;let i1=u.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>(0,a.jsx)(ic,{children:(0,a.jsxs)(ip,{ref:i,className:(0,e7.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-sm border border-border bg-carbon text-text-primary shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[(0,a.jsx)(iJ,{}),(0,a.jsx)(iN,{className:(0,e7.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,a.jsx)(i0,{})]})}));i1.displayName=ip.displayName,u.forwardRef(({className:e,...t},r)=>(0,a.jsx)(iA,{ref:r,className:(0,e7.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=iA.displayName;let i2=u.forwardRef(({className:e,children:t,...r},n)=>(0,a.jsxs)(iO,{ref:n,className:(0,e7.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-surface focus:text-accent-primary data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(iM,{children:(0,a.jsx)(iX,{className:"h-4 w-4"})})}),(0,a.jsx)(iF,{children:t})]}));i2.displayName=iO.displayName,u.forwardRef(({className:e,...t},r)=>(0,a.jsx)(iU,{ref:r,className:(0,e7.cn)("-mx-1 my-1 h-px bg-border",e),...t})).displayName=iU.displayName;let i4=(0,iK.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),i5=(0,iK.default)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var i7,i9,i3,i6,i8,oe,ot,or,on,oi,oo,os,oa,ol,ou,oc="0123456789abcdef",od="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",of="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",op={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},oh=!0,om="[DecimalError] ",og=om+"Invalid argument: ",ov=om+"Precision limit exceeded",oy=om+"crypto unavailable",ox="[object Decimal]",ob=Math.floor,ow=Math.pow,oS=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,oN=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,oE=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,o_=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,oj=od.length-1,oC=of.length-1,oA={toStringTag:ox};function oR(e){var t,r,n,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(o+=oz(r)),o+=n;(r=7-(n=(s=e[t])+"").length)&&(o+=oz(r))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}function ok(e,t,r){if(e!==~~e||e<t||e>r)throw Error(og+e)}function oD(e,t,r,n){var i,o,s,a;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),o=ow(10,7-t),a=e[i]%o|0,null==n?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),s=r<4&&99999==a||r>3&&49999==a||5e4==a||0==a):s=(r<4&&a+1==o||r>3&&a+1==o/2)&&(e[i+1]/o/100|0)==ow(10,t-2)-1||(a==o/2||0==a)&&(e[i+1]/o/100|0)==0:t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),s=(n||r<4)&&9999==a||!n&&r>3&&4999==a):s=((n||r<4)&&a+1==o||!n&&r>3&&a+1==o/2)&&(e[i+1]/o/1e3|0)==ow(10,t-3)-1,s}function oO(e,t,r){for(var n,i,o=[0],s=0,a=e.length;s<a;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=oc.indexOf(e.charAt(s++)),n=0;n<o.length;n++)o[n]>r-1&&(void 0===o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}oA.absoluteValue=oA.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),oF(e)},oA.ceil=function(){return oF(new this.constructor(this),this.e+1,2)},oA.clampedTo=oA.clamp=function(e,t){var r=this.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(og+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new r(this)},oA.comparedTo=oA.cmp=function(e){var t,r,n,i,o=this.d,s=(e=new this.constructor(e)).d,a=this.s,l=e.s;if(!o||!s)return a&&l?a!==l?a:o===s?0:!o^a<0?1:-1:NaN;if(!o[0]||!s[0])return o[0]?a:s[0]?-l:0;if(a!==l)return a;if(this.e!==e.e)return this.e>e.e^a<0?1:-1;for(t=0,r=(n=o.length)<(i=s.length)?n:i;t<r;++t)if(o[t]!==s[t])return o[t]>s[t]^a<0?1:-1;return n===i?0:n>i^a<0?1:-1},oA.cosine=oA.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n,i;if(t.isZero())return t;(n=t.d.length)<32?i=(1/oX(4,r=Math.ceil(n/3))).toString():(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=oK(e,1,t.times(i),new e(1));for(var o=r;o--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=r,t}(n,oY(n,r)),n.precision=e,n.rounding=t,oF(2==ou||3==ou?r.neg():r,e,t,!0)):new n(1):new n(NaN)},oA.cubeRoot=oA.cbrt=function(){var e,t,r,n,i,o,s,a,l,u,c=this.constructor;if(!this.isFinite()||this.isZero())return new c(this);for(oh=!1,(o=this.s*ow(this.s*this,1/3))&&Math.abs(o)!=1/0?n=new c(o.toString()):(r=oR(this.d),(o=((e=this.e)-r.length+1)%3)&&(r+=1==o||-2==o?"0":"00"),o=ow(r,1/3),e=ob((e+1)/3)-(e%3==(e<0?-1:2)),(n=new c(r=o==1/0?"5e"+e:(r=o.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=this.s),s=(e=c.precision)+3;;)if(n=oT((u=(l=(a=n).times(a).times(a)).plus(this)).plus(this).times(a),u.plus(l),s+2,1),oR(a.d).slice(0,s)===(r=oR(n.d)).slice(0,s)){if("9999"!=(r=r.slice(s-3,s+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(oF(n,e+1,1),t=!n.times(n).times(n).eq(this));break}if(!i&&(oF(a,e+1,0),a.times(a).times(a).eq(this))){n=a;break}s+=4,i=1}return oh=!0,oF(n,e,c.rounding,t)},oA.decimalPlaces=oA.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-ob(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},oA.dividedBy=oA.div=function(e){return oT(this,new this.constructor(e))},oA.dividedToIntegerBy=oA.divToInt=function(e){var t=this.constructor;return oF(oT(this,new t(e),0,1,1),t.precision,t.rounding)},oA.equals=oA.eq=function(e){return 0===this.cmp(e)},oA.floor=function(){return oF(new this.constructor(this),this.e+1,3)},oA.greaterThan=oA.gt=function(e){return this.cmp(e)>0},oA.greaterThanOrEqualTo=oA.gte=function(e){var t=this.cmp(e);return 1==t||0===t},oA.hyperbolicCosine=oA.cosh=function(){var e,t,r,n,i,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;r=s.precision,n=s.rounding,s.precision=r+Math.max(o.e,o.sd())+4,s.rounding=1,(i=o.d.length)<32?t=(1/oX(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=oK(s,1,o.times(t),new s(1),!0);for(var l,u=e,c=new s(8);u--;)l=o.times(o),o=a.minus(l.times(c.minus(l.times(c))));return oF(o,s.precision=r,s.rounding=n,!0)},oA.hyperbolicSine=oA.sinh=function(){var e,t,r,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,r=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,(n=i.d.length)<3)i=oK(o,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=oK(o,2,i=i.times(1/oX(5,e)),i,!0);for(var s,a=new o(5),l=new o(16),u=new o(20);e--;)s=i.times(i),i=i.times(a.plus(s.times(l.times(s).plus(u))))}return o.precision=t,o.rounding=r,oF(i,t,r,!0)},oA.hyperbolicTangent=oA.tanh=function(){var e,t,r=this.constructor;return this.isFinite()?this.isZero()?new r(this):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,oT(this.sinh(),this.cosh(),r.precision=e,r.rounding=t)):new r(this.s)},oA.inverseCosine=oA.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return -1!==r?0===r?e.isNeg()?oI(t,n,i):new t(0):new t(NaN):e.isZero()?oI(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))},oA.inverseHyperbolicCosine=oA.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,oh=!1,r=r.times(r).minus(1).sqrt().plus(r),oh=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},oA.inverseHyperbolicSine=oA.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,oh=!1,r=r.times(r).plus(1).sqrt().plus(r),oh=!0,n.precision=e,n.rounding=t,r.ln())},oA.inverseHyperbolicTangent=oA.atanh=function(){var e,t,r,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,Math.max(n=i.sd(),e)<-(2*i.e)-1)?oF(new o(i),e,t,!0):(o.precision=r=n-i.e,i=oT(i.plus(1),new o(1).minus(i),r+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5)):new o(NaN)},oA.inverseSine=oA.asin=function(){var e,t,r,n,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),r=o.precision,n=o.rounding,-1!==t)?0===t?((e=oI(o,r+4,n).times(.5)).s=i.s,e):new o(NaN):(o.precision=r+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=r,o.rounding=n,i.times(2))},oA.inverseTangent=oA.atan=function(){var e,t,r,n,i,o,s,a,l,u=this,c=u.constructor,d=c.precision,f=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);else if(u.abs().eq(1)&&d+4<=oC)return(s=oI(c,d+4,f).times(.25)).s=u.s,s}else{if(!u.s)return new c(NaN);if(d+4<=oC)return(s=oI(c,d+4,f).times(.5)).s=u.s,s}for(c.precision=a=d+10,c.rounding=1,e=r=Math.min(28,a/7+2|0);e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(oh=!1,t=Math.ceil(a/7),n=1,l=u.times(u),s=new c(u),i=u;-1!==e;)if(i=i.times(l),o=s.minus(i.div(n+=2)),i=i.times(l),void 0!==(s=o.plus(i.div(n+=2))).d[t])for(e=t;s.d[e]===o.d[e]&&e--;);return r&&(s=s.times(2<<r-1)),oh=!0,oF(s,c.precision=d,c.rounding=f,!0)},oA.isFinite=function(){return!!this.d},oA.isInteger=oA.isInt=function(){return!!this.d&&ob(this.e/7)>this.d.length-2},oA.isNaN=function(){return!this.s},oA.isNegative=oA.isNeg=function(){return this.s<0},oA.isPositive=oA.isPos=function(){return this.s>0},oA.isZero=function(){return!!this.d&&0===this.d[0]},oA.lessThan=oA.lt=function(e){return 0>this.cmp(e)},oA.lessThanOrEqualTo=oA.lte=function(e){return 1>this.cmp(e)},oA.logarithm=oA.log=function(e){var t,r,n,i,o,s,a,l=this.constructor,u=l.precision,c=l.rounding;if(null==e)e=new l(10),t=!0;else{if(r=(e=new l(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new l(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(n=r[0];n%10==0;)n/=10;i=1!==n}if(oh=!1,oD((a=oT(o=oH(this,s=u+5),t?oP(l,s+10):oH(e,s),s,1)).d,n=u,c))do if(s+=10,a=oT(o=oH(this,s),t?oP(l,s+10):oH(e,s),s,1),!i){+oR(a.d).slice(n+1,n+15)+1==1e14&&(a=oF(a,u+1,0));break}while(oD(a.d,n+=10,c))return oh=!0,oF(a,u,c)},oA.minus=oA.sub=function(e){var t,r,n,i,o,s,a,l,u,c,d,f,p=this.constructor;if(e=new p(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new p(e.d||this.s!==e.s?this:NaN):e=new p(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(u=this.d,f=e.d,a=p.precision,l=p.rounding,!u[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!u[0])return new p(3===l?-0:0);e=new p(this)}return oh?oF(e,a,l):e}if(r=ob(e.e/7),c=ob(this.e/7),u=u.slice(),o=c-r){for((d=o<0)?(t=u,o=-o,s=f.length):(t=f,r=c,s=u.length),o>(n=Math.max(Math.ceil(a/7),s)+2)&&(o=n,t.length=1),t.reverse(),n=o;n--;)t.push(0);t.reverse()}else{for((d=(n=u.length)<(s=f.length))&&(s=n),n=0;n<s;n++)if(u[n]!=f[n]){d=u[n]<f[n];break}o=0}for(d&&(t=u,u=f,f=t,e.s=-e.s),s=u.length,n=f.length-s;n>0;--n)u[s++]=0;for(n=f.length;n>o;){if(u[--n]<f[n]){for(i=n;i&&0===u[--i];)u[i]=1e7-1;--u[i],u[n]+=1e7}u[n]-=f[n]}for(;0===u[--s];)u.pop();for(;0===u[0];u.shift())--r;return u[0]?(e.d=u,e.e=oM(u,r),oh?oF(e,a,l):e):new p(3===l?-0:0)},oA.modulo=oA.mod=function(e){var t,r=this.constructor;return(e=new r(e),this.d&&e.s&&(!e.d||e.d[0]))?e.d&&(!this.d||this.d[0])?(oh=!1,9==r.modulo?(t=oT(this,e.abs(),0,3,1),t.s*=e.s):t=oT(this,e,0,r.modulo,1),t=t.times(e),oh=!0,this.minus(t)):oF(new r(this),r.precision,r.rounding):new r(NaN)},oA.naturalExponential=oA.exp=function(){return o$(this)},oA.naturalLogarithm=oA.ln=function(){return oH(this)},oA.negated=oA.neg=function(){var e=new this.constructor(this);return e.s=-e.s,oF(e)},oA.plus=oA.add=function(e){var t,r,n,i,o,s,a,l,u,c,d=this.constructor;if(e=new d(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new d(e.d||this.s===e.s?this:NaN)):e=new d(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(u=this.d,c=e.d,a=d.precision,l=d.rounding,!u[0]||!c[0])return c[0]||(e=new d(this)),oh?oF(e,a,l):e;if(o=ob(this.e/7),n=ob(e.e/7),u=u.slice(),i=o-n){for(i<0?(r=u,i=-i,s=c.length):(r=c,n=o,s=u.length),i>(s=(o=Math.ceil(a/7))>s?o+1:s+1)&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((s=u.length)-(i=c.length)<0&&(i=s,r=c,c=u,u=r),t=0;i;)t=(u[--i]=u[i]+c[i]+t)/1e7|0,u[i]%=1e7;for(t&&(u.unshift(t),++n),s=u.length;0==u[--s];)u.pop();return e.d=u,e.e=oM(u,n),oh?oF(e,a,l):e},oA.precision=oA.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(og+e);return this.d?(t=oL(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},oA.round=function(){var e=this.constructor;return oF(new e(this),this.e+1,e.rounding)},oA.sine=oA.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:oK(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=oK(e,2,t=t.times(1/oX(5,r)),t);for(var i,o=new e(5),s=new e(16),a=new e(20);r--;)i=t.times(t),t=t.times(o.plus(i.times(s.times(i).minus(a))));return t}(n,oY(n,r)),n.precision=e,n.rounding=t,oF(ou>2?r.neg():r,e,t,!0)):new n(NaN)},oA.squareRoot=oA.sqrt=function(){var e,t,r,n,i,o,s=this.d,a=this.e,l=this.s,u=this.constructor;if(1!==l||!s||!s[0])return new u(!l||l<0&&(!s||s[0])?NaN:s?this:1/0);for(oh=!1,0==(l=Math.sqrt(+this))||l==1/0?(((t=oR(s)).length+a)%2==0&&(t+="0"),l=Math.sqrt(t),a=ob((a+1)/2)-(a<0||a%2),n=new u(t=l==1/0?"5e"+a:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+a)):n=new u(l.toString()),r=(a=u.precision)+3;;)if(n=(o=n).plus(oT(this,o,r+2,1)).times(.5),oR(o.d).slice(0,r)===(t=oR(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(oF(n,a+1,1),e=!n.times(n).eq(this));break}if(!i&&(oF(o,a+1,0),o.times(o).eq(this))){n=o;break}r+=4,i=1}return oh=!0,oF(n,a,u.rounding,e)},oA.tangent=oA.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=oT(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,oF(2==ou||4==ou?r.neg():r,e,t,!0)):new n(NaN)},oA.times=oA.mul=function(e){var t,r,n,i,o,s,a,l,u,c=this.constructor,d=this.d,f=(e=new c(e)).d;if(e.s*=this.s,!d||!d[0]||!f||!f[0])return new c(!e.s||d&&!d[0]&&!f||f&&!f[0]&&!d?NaN:!d||!f?e.s/0:0*e.s);for(r=ob(this.e/7)+ob(e.e/7),(l=d.length)<(u=f.length)&&(o=d,d=f,f=o,s=l,l=u,u=s),o=[],n=s=l+u;n--;)o.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)a=o[i]+f[n]*d[i-n-1]+t,o[i--]=a%1e7|0,t=a/1e7|0;o[i]=(o[i]+t)%1e7|0}for(;!o[--s];)o.pop();return t?++r:o.shift(),e.d=o,e.e=oM(o,r),oh?oF(e,c.precision,c.rounding):e},oA.toBinary=function(e,t){return oG(this,2,e,t)},oA.toDecimalPlaces=oA.toDP=function(e,t){var r=this,n=r.constructor;return(r=new n(r),void 0===e)?r:(ok(e,0,1e9),void 0===t?t=n.rounding:ok(t,0,8),oF(r,e+r.e+1,t))},oA.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=oV(n,!0):(ok(e,0,1e9),void 0===t?t=i.rounding:ok(t,0,8),r=oV(n=oF(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},oA.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?r=oV(this):(ok(e,0,1e9),void 0===t?t=i.rounding:ok(t,0,8),r=oV(n=oF(new i(this),e+this.e+1,t),!1,e+n.e+1)),this.isNeg()&&!this.isZero()?"-"+r:r},oA.toFraction=function(e){var t,r,n,i,o,s,a,l,u,c,d,f,p=this.d,h=this.constructor;if(!p)return new h(this);if(u=r=new h(1),n=l=new h(0),s=(o=(t=new h(n)).e=oL(p)-this.e-1)%7,t.d[0]=ow(10,s<0?7+s:s),null==e)e=o>0?t:u;else{if(!(a=new h(e)).isInt()||a.lt(u))throw Error(og+a);e=a.gt(t)?o>0?t:u:a}for(oh=!1,a=new h(oR(p)),c=h.precision,h.precision=o=7*p.length*2;d=oT(a,t,0,1,1),1!=(i=r.plus(d.times(n))).cmp(e);)r=n,n=i,i=u,u=l.plus(d.times(i)),l=i,i=t,t=a.minus(d.times(i)),a=i;return i=oT(e.minus(r),n,0,1,1),l=l.plus(i.times(u)),r=r.plus(i.times(n)),l.s=u.s=this.s,f=1>oT(u,n,o,1).minus(this).abs().cmp(oT(l,r,o,1).minus(this).abs())?[u,n]:[l,r],h.precision=c,oh=!0,f},oA.toHexadecimal=oA.toHex=function(e,t){return oG(this,16,e,t)},oA.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:ok(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(oh=!1,r=oT(r,e,0,t,1).times(e),oh=!0,oF(r)):(e.s=r.s,r=e),r},oA.toNumber=function(){return+this},oA.toOctal=function(e,t){return oG(this,8,e,t)},oA.toPower=oA.pow=function(e){var t,r,n,i,o,s,a=this,l=a.constructor,u=+(e=new l(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new l(ow(+a,u));if((a=new l(a)).eq(1))return a;if(n=l.precision,o=l.rounding,e.eq(1))return oF(a,n,o);if((t=ob(e.e/7))>=e.d.length-1&&(r=u<0?-u:u)<=0x1fffffffffffff)return i=oB(l,a,r,n),e.s<0?new l(1).div(i):oF(i,n,o);if((s=a.s)<0){if(t<e.d.length-1)return new l(NaN);if((1&e.d[t])==0&&(s=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=s,a}return(t=0!=(r=ow(+a,u))&&isFinite(r)?new l(r+"").e:ob(u*(Math.log("0."+oR(a.d))/Math.LN10+a.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?s/0:0):(oh=!1,l.rounding=a.s=1,r=Math.min(12,(t+"").length),(i=o$(e.times(oH(a,n+r)),n)).d&&oD((i=oF(i,n+5,1)).d,n,o)&&(t=n+10,+oR((i=oF(o$(e.times(oH(a,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=oF(i,n+1,0))),i.s=s,oh=!0,l.rounding=o,oF(i,n,o))},oA.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=oV(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(ok(e,1,1e9),void 0===t?t=i.rounding:ok(t,0,8),r=oV(n=oF(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},oA.toSignificantDigits=oA.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(ok(e,1,1e9),void 0===t?t=r.rounding:ok(t,0,8)),oF(new r(this),e,t)},oA.toString=function(){var e=this.constructor,t=oV(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},oA.truncated=oA.trunc=function(){return oF(new this.constructor(this),this.e+1,1)},oA.valueOf=oA.toJSON=function(){var e=this.constructor,t=oV(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var oT=function(){function e(e,t,r){var n,i=0,o=e.length;for(e=e.slice();o--;)n=e[o]*t+i,e[o]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=+(e[r]<t[r]),e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,o,s,a,l){var u,c,d,f,p,h,m,g,v,y,x,b,w,S,N,E,_,j,C,A,R=n.constructor,k=n.s==i.s?1:-1,D=n.d,O=i.d;if(!D||!D[0]||!O||!O[0])return new R(!n.s||!i.s||(D?O&&D[0]==O[0]:!O)?NaN:D&&0==D[0]||!O?0*k:k/0);for(l?(p=1,c=n.e-i.e):(l=1e7,p=7,c=ob(n.e/p)-ob(i.e/p)),C=O.length,_=D.length,y=(v=new R(k)).d=[],d=0;O[d]==(D[d]||0);d++);if(O[d]>(D[d]||0)&&c--,null==o?(S=o=R.precision,s=R.rounding):S=a?o+(n.e-i.e)+1:o,S<0)y.push(1),h=!0;else{if(S=S/p+2|0,d=0,1==C){for(f=0,O=O[0],S++;(d<_||f)&&S--;d++)N=f*l+(D[d]||0),y[d]=N/O|0,f=N%O|0;h=f||d<_}else{for((f=l/(O[0]+1)|0)>1&&(O=e(O,f,l),D=e(D,f,l),C=O.length,_=D.length),E=C,b=(x=D.slice(0,C)).length;b<C;)x[b++]=0;(A=O.slice()).unshift(0),j=O[0],O[1]>=l/2&&++j;do f=0,(u=t(O,x,C,b))<0?(w=x[0],C!=b&&(w=w*l+(x[1]||0)),(f=w/j|0)>1?(f>=l&&(f=l-1),g=(m=e(O,f,l)).length,b=x.length,1==(u=t(m,x,g,b))&&(f--,r(m,C<g?A:O,g,l))):(0==f&&(u=f=1),m=O.slice()),(g=m.length)<b&&m.unshift(0),r(x,m,b,l),-1==u&&(b=x.length,(u=t(O,x,C,b))<1&&(f++,r(x,C<b?A:O,b,l))),b=x.length):0===u&&(f++,x=[0]),y[d++]=f,u&&x[0]?x[b++]=D[E]||0:(x=[D[E]],b=1);while((E++<_||void 0!==x[0])&&S--)h=void 0!==x[0]}y[0]||y.shift()}if(1==p)v.e=c,ol=h;else{for(d=1,f=y[0];f>=10;f/=10)d++;v.e=d+c*p-1,oF(v,a?o+v.e+1:o,s,h)}return v}}();function oF(e,t,r,n){var i,o,s,a,l,u,c,d,f,p=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(i=1,a=d[0];a>=10;a/=10)i++;if((o=t-i)<0)o+=7,s=t,l=(c=d[f=0])/ow(10,i-s-1)%10|0;else if((f=Math.ceil((o+1)/7))>=(a=d.length))if(n){for(;a++<=f;)d.push(0);c=l=0,i=1,o%=7,s=o-7+1}else break e;else{for(i=1,c=a=d[f];a>=10;a/=10)i++;o%=7,l=(s=o-7+i)<0?0:c/ow(10,i-s-1)%10|0}if(n=n||t<0||void 0!==d[f+1]||(s<0?c:c%ow(10,i-s-1)),u=r<4?(l||n)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||n||6==r&&(o>0?s>0?c/ow(10,i-s):0:d[f-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,u?(t-=e.e+1,d[0]=ow(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==o?(d.length=f,a=1,f--):(d.length=f+1,a=ow(10,7-o),d[f]=s>0?(c/ow(10,i-s)%ow(10,s)|0)*a:0),u)for(;;)if(0==f){for(o=1,s=d[0];s>=10;s/=10)o++;for(s=d[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(e.e++,1e7==d[0]&&(d[0]=1));break}else{if(d[f]+=a,1e7!=d[f])break;d[f--]=0,a=1}for(o=d.length;0===d[--o];)d.pop()}return oh&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function oV(e,t,r){if(!e.isFinite())return oq(e);var n,i=e.e,o=oR(e.d),s=o.length;return t?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+oz(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+oz(-i-1)+o,r&&(n=r-s)>0&&(o+=oz(n))):i>=s?(o+=oz(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+oz(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=oz(n))),o}function oM(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function oP(e,t,r){if(t>oj)throw oh=!0,r&&(e.precision=r),Error(ov);return oF(new e(od),t,1,!0)}function oI(e,t,r){if(t>oC)throw Error(ov);return oF(new e(of),t,r,!0)}function oL(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function oz(e){for(var t="";e--;)t+="0";return t}function oB(e,t,r,n){var i,o=new e(1),s=Math.ceil(n/7+4);for(oh=!1;;){if(r%2&&oQ((o=o.times(t)).d,s)&&(i=!0),0===(r=ob(r/2))){r=o.d.length-1,i&&0===o.d[r]&&++o.d[r];break}oQ((t=t.times(t)).d,s)}return oh=!0,o}function oU(e){return 1&e.d[e.d.length-1]}function oW(e,t,r){for(var n,i,o=new e(t[0]),s=0;++s<t.length;){if(!(i=new e(t[s])).s){o=i;break}((n=o.cmp(i))===r||0===n&&o.s===r)&&(o=i)}return o}function o$(e,t){var r,n,i,o,s,a,l,u=0,c=0,d=0,f=e.constructor,p=f.rounding,h=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?!e.d[0]?1:e.s<0?0:1/0:e.s?e.s<0?0:e:0/0);for(null==t?(oh=!1,l=h):l=t,a=new f(.03125);e.e>-2;)e=e.times(a),d+=5;for(l+=n=Math.log(ow(2,d))/Math.LN10*2+5|0,r=o=s=new f(1),f.precision=l;;){if(o=oF(o.times(e),l,1),r=r.times(++c),oR((a=s.plus(oT(o,r,l,1))).d).slice(0,l)===oR(s.d).slice(0,l)){for(i=d;i--;)s=oF(s.times(s),l,1);if(null!=t)return f.precision=h,s;if(!(u<3&&oD(s.d,l-n,p,u)))return oF(s,f.precision=h,p,oh=!0);f.precision=l+=10,r=o=a=new f(1),c=0,u++}s=a}}function oH(e,t){var r,n,i,o,s,a,l,u,c,d,f,p=1,h=e,m=h.d,g=h.constructor,v=g.rounding,y=g.precision;if(h.s<0||!m||!m[0]||!h.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=h.s?NaN:m?0:h);if(null==t?(oh=!1,c=y):c=t,g.precision=c+=10,n=(r=oR(m)).charAt(0),!(15e14>Math.abs(o=h.e)))return u=oP(g,c+2,y).times(o+""),h=oH(new g(n+"."+r.slice(1)),c-10).plus(u),g.precision=y,null==t?oF(h,y,v,oh=!0):h;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=oR((h=h.times(e)).d)).charAt(0),p++;for(o=h.e,n>1?(h=new g("0."+r),o++):h=new g(n+"."+r.slice(1)),d=h,l=s=h=oT(h.minus(1),h.plus(1),c,1),f=oF(h.times(h),c,1),i=3;;){if(s=oF(s.times(f),c,1),oR((u=l.plus(oT(s,new g(i),c,1))).d).slice(0,c)===oR(l.d).slice(0,c)){if(l=l.times(2),0!==o&&(l=l.plus(oP(g,c+2,y).times(o+""))),l=oT(l,new g(p),c,1),null!=t)return g.precision=y,l;if(!oD(l.d,c-10,v,a))return oF(l,g.precision=y,v,oh=!0);g.precision=c+=10,u=s=h=oT(d.minus(1),d.plus(1),c,1),f=oF(h.times(h),c,1),i=a=1}l=u,i+=2}}function oq(e){return String(e.s*e.s/0)}function oZ(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),oh&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function oK(e,t,r,n,i){var o,s,a,l,u=e.precision,c=Math.ceil(u/7);for(oh=!1,l=r.times(r),a=new e(n);;){if(s=oT(a.times(l),new e(t++*t++),u,1),a=i?n.plus(s):n.minus(s),n=oT(s.times(l),new e(t++*t++),u,1),void 0!==(s=a.plus(n)).d[c]){for(o=c;s.d[o]===a.d[o]&&o--;);if(-1==o)break}o=a,a=n,n=s,s=o}return oh=!0,s.d.length=c+1,s}function oX(e,t){for(var r=e;--t;)r*=e;return r}function oY(e,t){var r,n=t.s<0,i=oI(e,e.precision,1),o=i.times(.5);if((t=t.abs()).lte(o))return ou=n?4:1,t;if((r=t.divToInt(i)).isZero())ou=n?3:2;else{if((t=t.minus(r.times(i))).lte(o))return ou=oU(r)?n?2:3:n?4:1,t;ou=oU(r)?n?1:4:n?3:2}return t.minus(i).abs()}function oG(e,t,r,n){var i,o,s,a,l,u,c,d,f,p=e.constructor,h=void 0!==r;if(h?(ok(r,1,1e9),void 0===n?n=p.rounding:ok(n,0,8)):(r=p.precision,n=p.rounding),e.isFinite()){for(s=(c=oV(e)).indexOf("."),h?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,s>=0&&(c=c.replace(".",""),(f=new p(1)).e=c.length-s,f.d=oO(oV(f),10,i),f.e=f.d.length),o=l=(d=oO(c,10,i)).length;0==d[--l];)d.pop();if(d[0]){if(s<0?o--:((e=new p(e)).d=d,e.e=o,d=(e=oT(e,f,r,n,0,i)).d,o=e.e,u=ol),s=d[r],a=i/2,u=u||void 0!==d[r+1],u=n<4?(void 0!==s||u)&&(0===n||n===(e.s<0?3:2)):s>a||s===a&&(4===n||u||6===n&&1&d[r-1]||n===(e.s<0?8:7)),d.length=r,u)for(;++d[--r]>i-1;)d[r]=0,r||(++o,d.unshift(1));for(l=d.length;!d[l-1];--l);for(s=0,c="";s<l;s++)c+=oc.charAt(d[s]);if(h){if(l>1)if(16==t||8==t){for(s=16==t?4:3,--l;l%s;l++)c+="0";for(l=(d=oO(c,i,t)).length;!d[l-1];--l);for(s=1,c="1.";s<l;s++)c+=oc.charAt(d[s])}else c=c.charAt(0)+"."+c.slice(1);c=c+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)c="0"+c;c="0."+c}else if(++o>l)for(o-=l;o--;)c+="0";else o<l&&(c=c.slice(0,o)+"."+c.slice(o))}else c=h?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=oq(e);return e.s<0?"-"+c:c}function oQ(e,t){if(e.length>t)return e.length=t,!0}function oJ(e){return new this(e).abs()}function o0(e){return new this(e).acos()}function o1(e){return new this(e).acosh()}function o2(e,t){return new this(e).plus(t)}function o4(e){return new this(e).asin()}function o5(e){return new this(e).asinh()}function o7(e){return new this(e).atan()}function o9(e){return new this(e).atanh()}function o3(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,o=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?oI(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=oI(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,r=this.atan(oT(e,t,o,1)),t=oI(this,o,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(oT(e,t,o,1)):(r=oI(this,o,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function o6(e){return new this(e).cbrt()}function o8(e){return oF(e=new this(e),e.e+1,2)}function se(e,t,r){return new this(e).clamp(t,r)}function st(e){if(!e||"object"!=typeof e)throw Error(om+"Object expected");var t,r,n,i=!0===e.defaults,o=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(r=o[t],i&&(this[r]=op[r]),void 0!==(n=e[r]))if(ob(n)===n&&n>=o[t+1]&&n<=o[t+2])this[r]=n;else throw Error(og+r+": "+n);if(r="crypto",i&&(this[r]=op[r]),void 0!==(n=e[r]))if(!0===n||!1===n||0===n||1===n)if(n)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(oy);else this[r]=!1;else throw Error(og+r+": "+n);return this}function sr(e){return new this(e).cos()}function sn(e){return new this(e).cosh()}function si(e,t){return new this(e).div(t)}function so(e){return new this(e).exp()}function ss(e){return oF(e=new this(e),e.e+1,3)}function sa(){var e,t,r=new this(0);for(e=0,oh=!1;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return oh=!0,new this(1/0);r=t}return oh=!0,r.sqrt()}function sl(e){return e instanceof sR||e&&e.toStringTag===ox||!1}function su(e){return new this(e).ln()}function sc(e,t){return new this(e).log(t)}function sd(e){return new this(e).log(2)}function sf(e){return new this(e).log(10)}function sp(){return oW(this,arguments,-1)}function sh(){return oW(this,arguments,1)}function sm(e,t){return new this(e).mod(t)}function sg(e,t){return new this(e).mul(t)}function sv(e,t){return new this(e).pow(t)}function sy(e){var t,r,n,i,o=0,s=new this(1),a=[];if(void 0===e?e=this.precision:ok(e,1,1e9),n=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));o<n;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);o<n;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(a.push(i%1e7),o+=4);o=n/4}else throw Error(oy);else for(;o<n;)a[o++]=1e7*Math.random()|0;for(n=a[--o],e%=7,n&&e&&(i=ow(10,7-e),a[o]=(n/i|0)*i);0===a[o];o--)a.pop();if(o<0)r=0,a=[0];else{for(r=-1;0===a[0];r-=7)a.shift();for(n=1,i=a[0];i>=10;i/=10)n++;n<7&&(r-=7-n)}return s.e=r,s.d=a,s}function sx(e){return oF(e=new this(e),e.e+1,this.rounding)}function sb(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function sw(e){return new this(e).sin()}function sS(e){return new this(e).sinh()}function sN(e){return new this(e).sqrt()}function sE(e,t){return new this(e).sub(t)}function s_(){var e=0,t=arguments,r=new this(t[0]);for(oh=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return oh=!0,oF(r,this.precision,this.rounding)}function sj(e){return new this(e).tan()}function sC(e){return new this(e).tanh()}function sA(e){return oF(e=new this(e),e.e+1,1)}oA[Symbol.for("nodejs.util.inspect.custom")]=oA.toString,oA[Symbol.toStringTag]="Decimal";var sR=oA.constructor=function e(t){var r,n,i;function o(e){var t,r,n;if(!(this instanceof o))return new o(e);if(this.constructor=o,sl(e)){this.s=e.s,oh?!e.d||e.e>o.maxE?(this.e=NaN,this.d=null):e.e<o.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(n=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;oh?t>o.maxE?(this.e=NaN,this.d=null):t<o.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return oZ(this,e.toString())}if("string"===n)return 45===(r=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===r&&(e=e.slice(1)),this.s=1),o_.test(e)?oZ(this,e):function(e,t){var r,n,i,o,s,a,l,u,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),o_.test(t))return oZ(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(oN.test(t))r=16,t=t.toLowerCase();else if(oS.test(t))r=2;else if(oE.test(t))r=8;else throw Error(og+t);for((o=t.search(/p/i))>0?(l=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),s=(o=t.indexOf("."))>=0,n=e.constructor,s&&(o=(a=(t=t.replace(".","")).length)-o,i=oB(n,new n(r),o,2*o)),o=c=(u=oO(t,r,1e7)).length-1;0===u[o];--o)u.pop();return o<0?new n(0*e.s):(e.e=oM(u,c),e.d=u,oh=!1,s&&(e=oT(e,i,4*a)),l&&(e=e.times(54>Math.abs(l)?ow(2,l):sR.pow(2,l))),oh=!0,e)}(this,e);if("bigint"===n)return e<0?(e=-e,this.s=-1):this.s=1,oZ(this,e.toString());throw Error(og+e)}if(o.prototype=oA,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=st,o.clone=e,o.isDecimal=sl,o.abs=oJ,o.acos=o0,o.acosh=o1,o.add=o2,o.asin=o4,o.asinh=o5,o.atan=o7,o.atanh=o9,o.atan2=o3,o.cbrt=o6,o.ceil=o8,o.clamp=se,o.cos=sr,o.cosh=sn,o.div=si,o.exp=so,o.floor=ss,o.hypot=sa,o.ln=su,o.log=sc,o.log10=sf,o.log2=sd,o.max=sp,o.min=sh,o.mod=sm,o.mul=sg,o.pow=sv,o.random=sy,o.round=sx,o.sign=sb,o.sin=sw,o.sinh=sS,o.sqrt=sN,o.sub=sE,o.sum=s_,o.tan=sj,o.tanh=sC,o.trunc=sA,void 0===t&&(t={}),t&&!0!==t.defaults)for(r=0,i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"];r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return o.config(t),o}(op);od=new sR(od),of=new sR(of),sR.set({precision:20,rounding:sR.ROUND_HALF_UP,toExpNeg:-7,toExpPos:21});let sk={SR:new sR("0.09"),ZR:new sR("0"),ES:new sR("0"),OS:new sR("0"),TX:new sR("0.09"),BL:new sR("0.09"),RS:new sR("0.09")};function sD(e,t,r,n,i=!1){let o,s,a=new sR(e||"0"),l=new sR(t||"0"),u=new sR(r||"0"),c=sk[n]||new sR("0"),d=a.mul(l).mul(new sR("1").minus(u.div("100"))).toDecimalPlaces(4,sR.ROUND_HALF_UP);return i||c.isZero()?(o=new sR("0"),s=d):(o=d.mul(c).toDecimalPlaces(4,sR.ROUND_HALF_UP),s=d.add(o)),{line_subtotal:d.toFixed(4),gst_amount:o.toFixed(4),line_total:s.toFixed(4),display_subtotal:d.toDecimalPlaces(2).toFixed(2),display_gst:o.toDecimalPlaces(2).toFixed(2),display_total:s.toDecimalPlaces(2).toFixed(2),is_bcrs_exempt:i}}function sO({index:e,isGSTRegistered:t,onRemove:r}){let{register:n,watch:i,setValue:o}=u.default.useContext(O),s=i(`lines.${e}`),l=u.useMemo(()=>s?sD(s.quantity,s.unit_price,s.discount_pct,s.tax_code,s.is_bcrs_deposit):{display_total:"0.00",line_subtotal:"0.0000",gst_amount:"0.0000",line_total:"0.0000"},[s?.quantity,s?.unit_price,s?.discount_pct,s?.tax_code,s?.is_bcrs_deposit]);return(u.useEffect(()=>{o(`lines.${e}.line_subtotal`,l.line_subtotal),o(`lines.${e}.gst_amount`,l.gst_amount),o(`lines.${e}.line_total`,l.line_total)},[l,e,o]),s)?(0,a.jsxs)("div",{className:(0,e7.cn)("grid gap-2 items-start py-3 border-b border-border last:border-0","grid-cols-12"),role:"row","aria-label":`Invoice line ${e+1}`,children:[(0,a.jsx)("div",{className:"col-span-1 flex items-center justify-center pt-2",children:(0,a.jsx)(i5,{className:"w-4 h-4 text-text-muted cursor-grab"})}),(0,a.jsx)("div",{className:"col-span-4",children:(0,a.jsx)(e3.Input,{...n(`lines.${e}.description`),placeholder:"Item description",className:(0,e7.cn)("h-10 text-sm border-border bg-surface","focus-visible:ring-accent-primary/50 rounded-sm"),"aria-label":"Line description"})}),(0,a.jsx)("div",{className:"col-span-1",children:(0,a.jsx)(e3.Input,{type:"text",inputMode:"decimal",...n(`lines.${e}.quantity`),className:(0,e7.cn)("h-10 text-sm text-right font-mono border-border bg-surface","focus-visible:ring-accent-primary/50 rounded-sm tabular-nums slashed-zero"),"aria-label":"Quantity"})}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsx)(e9,{value:s.unit_price,onChange:t=>o(`lines.${e}.unit_price`,t),currencySymbol:"",ariaLabel:"Unit price",className:(0,e7.cn)("h-10 font-mono rounded-sm","focus-visible:ring-accent-primary/50"),decimalScale:4})}),(0,a.jsx)("div",{className:"col-span-1",children:(0,a.jsx)(e3.Input,{type:"text",inputMode:"decimal",...n(`lines.${e}.discount_pct`),className:(0,e7.cn)("h-10 text-sm text-right font-mono border-border bg-surface","focus-visible:ring-accent-primary/50 rounded-sm tabular-nums"),"aria-label":"Discount percentage",placeholder:"0"})}),(0,a.jsx)("div",{className:"col-span-1",children:(0,a.jsxs)(ii,{value:s.tax_code,onValueChange:t=>o(`lines.${e}.tax_code`,t),disabled:!t,children:[(0,a.jsx)(iQ,{className:(0,e7.cn)("h-10 text-xs border-border bg-surface rounded-sm","focus-visible:ring-accent-primary/50"),"aria-label":"Tax code",children:(0,a.jsx)(il,{placeholder:"Tax"})}),(0,a.jsx)(i1,{children:eA.map(e=>(0,a.jsx)(i2,{value:e,className:"text-xs font-mono",children:e},e))})]})}),(0,a.jsx)("div",{className:(0,e7.cn)("col-span-1 text-right text-sm font-mono font-medium pt-2","tabular-nums slashed-zero text-text-primary"),"aria-label":"Line total","aria-live":"polite",children:l.display_total}),(0,a.jsx)("div",{className:"col-span-1 flex justify-end pt-1",children:(0,a.jsx)(eT.Button,{type:"button",variant:"ghost",size:"icon",onClick:r,className:(0,e7.cn)("h-8 w-8 text-text-muted hover:text-alert","transition-colors rounded-sm"),"aria-label":`Remove line ${e+1}`,children:(0,a.jsx)(i4,{className:"w-4 h-4"})})})]}):null}new sR("9").div(new sR("109"));var sT=e.i(15288),sF=e.i(87486),sV=e.i(78583);let sM=(0,iK.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);function sP({isGSTRegistered:e,totals:t,onSubmit:r,onSaveDraft:n,isSubmitting:i}){let[o,s]=u.useState("");return(u.useEffect(()=>{t&&s(`Invoice total updated to S$ ${t.display_total}`)},[t?.display_total]),t)?(0,a.jsxs)(sT.Card,{className:"border-border bg-carbon rounded-sm sticky top-20",children:[(0,a.jsx)(sT.CardHeader,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(sT.CardTitle,{className:"font-display text-lg text-text-primary",children:"Tax Breakdown"}),e&&(0,a.jsx)(sF.Badge,{variant:"outline",className:"border-accent-primary text-accent-primary rounded-sm text-xs",children:"GST Registered"})]})}),(0,a.jsxs)(sT.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-text-secondary",children:"Subtotal"}),(0,a.jsxs)("span",{className:"text-sm font-mono tabular-nums text-text-primary",children:["S$ ",t.display_subtotal]})]}),e&&(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-text-secondary",children:"GST (9%)"}),(0,a.jsxs)("span",{className:"text-sm font-mono tabular-nums text-accent-primary",children:["S$ ",t.display_gst]})]}),(0,a.jsx)("div",{className:"border-t border-border"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-base font-display font-medium text-text-primary",children:"Total"}),(0,a.jsxs)("span",{className:(0,e7.cn)("text-xl font-mono tabular-nums slashed-zero font-bold","text-accent-primary"),"aria-live":"polite","aria-atomic":"true",children:["S$ ",t.display_total]})]}),(0,a.jsx)("div",{role:"status","aria-live":"polite","aria-atomic":"true",className:"sr-only",children:o}),(0,a.jsxs)("div",{className:"pt-4 space-y-2",children:[(0,a.jsxs)(eT.Button,{type:"button",variant:"outline",className:"w-full rounded-sm border-border text-text-secondary hover:bg-surface",disabled:i,onClick:n,children:[(0,a.jsx)(sV.FileText,{className:"h-4 w-4 mr-2"}),"Save Draft"]}),(0,a.jsx)(eT.Button,{type:"button",className:"w-full rounded-sm bg-accent-primary text-void hover:bg-accent-primary-dim",onClick:r,disabled:i,"aria-busy":i,children:i?(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-4 h-4 border-2 border-void/30 border-t-void rounded-full animate-spin"}),"Processing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sM,{className:"h-4 w-4 mr-2"}),"Send Invoice"]})})]}),e&&(0,a.jsx)("div",{className:"pt-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-accent-secondary animate-pulse"}),(0,a.jsx)("span",{children:"Peppol Ready"})]})})]})]}):(0,a.jsxs)(sT.Card,{className:"border-border bg-carbon rounded-sm sticky top-20",children:[(0,a.jsx)(sT.CardHeader,{className:"pb-3",children:(0,a.jsx)(sT.CardTitle,{className:"font-display text-lg text-text-primary",children:"Tax Breakdown"})}),(0,a.jsx)(sT.CardContent,{children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsx)("div",{className:"h-4 bg-surface rounded-sm"}),(0,a.jsx)("div",{className:"h-4 bg-surface rounded-sm"}),(0,a.jsx)("div",{className:"h-4 bg-surface rounded-sm"})]})})]})}let sI=(0,iK.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var sL=e.i(63209);let sz=e=>{let t,r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=n?n:"object"!=typeof i||null===i)?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,o={setState:n,getState:i,getInitialState:()=>s,subscribe:e=>(r.add(e),()=>r.delete(e))},s=t=e(n,i,o);return o},sB=e=>{let t=e?sz(e):sz,r=e=>(function(e,t=e=>e){let r=u.default.useSyncExternalStore(e.subscribe,u.default.useCallback(()=>t(e.getState()),[e,t]),u.default.useCallback(()=>t(e.getInitialState()),[e,t]));return u.default.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},sU={sidebarCollapsed:!1,compactMode:!1,bcrsEnabled:!1,hasUnsavedChanges:!1,currentTotals:null},sW=(n?sB(n):sB)((i=(e,t)=>({...sU,setSidebarCollapsed:t=>e({sidebarCollapsed:t}),toggleCompactMode:()=>e(e=>({compactMode:!e.compactMode})),toggleBCRS:()=>{e({bcrsEnabled:!t().bcrsEnabled,hasUnsavedChanges:!0})},setHasUnsavedChanges:t=>e({hasUnsavedChanges:t}),updateTotals:t=>e({currentTotals:t}),resetStore:()=>e(sU)}),(e,t,r)=>{let n=r.subscribe;return r.subscribe=(e,t,i)=>{let o=e;if(t){let n=(null==i?void 0:i.equalityFn)||Object.is,s=e(r.getState());o=r=>{let i=e(r);if(!n(s,i)){let e=s;t(s=i,e)}},(null==i?void 0:i.fireImmediately)&&t(s,s)}return n(o)},i(e,t,r)}));function s$({initialData:e,isGSTRegistered:t=!0,onSuccess:r}){let{setHasUnsavedChanges:n}=sW(),[i,o]=u.useState(!1),[s,l]=u.useState(null),v=u.useMemo(()=>{let t,r,n;return{...((r=new Date(t=new Date)).setDate(r.getDate()+30),n={issue_date:t.toISOString().split("T")[0],due_date:r.toISOString().split("T")[0]},{invoice_number:`INV-${Date.now()}`,uuid:crypto.randomUUID(),issue_date:n.issue_date,due_date:n.due_date,customer:{id:crypto.randomUUID(),name:"",uen:"",gst_registration_no:"",email:"",address:"",is_peppol_enabled:!1,peppol_id:""},lines:[eO()],subtotal:"0.0000",gst_rate:"0.09",gst_amount:"0.0000",bcrs_deposit_total:"0.0000",total_amount:"0.0000",status:"DRAFT",peppol_status:"NOT_REQUIRED",notes:"",reference:"",terms:"Payment due within 30 days"}),...e}},[e]),w=function(e={}){let t=u.default.useRef(void 0),r=u.default.useRef(void 0),[n,i]=u.default.useState({isDirty:!1,isValidating:!1,isLoading:x(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:x(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!x(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{let{formControl:r,...i}=function(e={}){let t,r={...el,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:x(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},o=(f(r.defaultValues)||f(r.values))&&h(r.defaultValues||r.values)||{},s=r.shouldUnregister?{}:h(o),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u=0,v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},w={...v},S={...w},N={array:M(),state:M()},E="all"===r.criteriaMode,_=async e=>{if(!a.keepIsValid&&!r.disabled&&(w.isValid||S.isValid||e)){let e;r.resolver?(e=P((await k()).errors),j()):e=await T(i,!0),e!==n.isValid&&N.state.next({isValid:e})}},j=(e,t)=>{!r.disabled&&(w.isValidating||w.validatingFields||S.isValidating||S.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(t?b(n.validatingFields,e,t):z(n.validatingFields,e))}),N.state.next({validatingFields:n.validatingFields,isValidating:!P(n.validatingFields)}))},C=(e,t,r,n)=>{let l=y(i,e);if(l){let i=y(s,e,m(r)?y(o,e):r);m(i)||n&&n.defaultChecked||t?b(s,e,t?i:Y(l._f)):U(e,i),a.mount&&!a.action&&_()}},A=(e,t,i,s,a)=>{let l=!1,u=!1,c={name:e};if(!r.disabled){if(!i||s){(w.isDirty||S.isDirty)&&(u=n.isDirty,n.isDirty=c.isDirty=F(),l=u!==c.isDirty);let r=D(y(o,e),t);u=!!y(n.dirtyFields,e),r?z(n.dirtyFields,e):b(n.dirtyFields,e,!0),c.dirtyFields=n.dirtyFields,l=l||(w.dirtyFields||S.dirtyFields)&&!r!==u}if(i){let t=y(n.touchedFields,e);t||(b(n.touchedFields,e,i),c.touchedFields=n.touchedFields,l=l||(w.touchedFields||S.touchedFields)&&t!==i)}l&&a&&N.state.next(c)}return l?c:{}},k=async e=>(j(e,!0),await r.resolver(s,r.context,((e,t,r,n)=>{let i={};for(let r of e){let e=y(t,r);e&&b(i,r,e._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}})(e||l.mount,i,r.criteriaMode,r.shouldUseNativeValidation))),O=async e=>{let{errors:t}=await k(e);if(j(e),e)for(let r of e){let e=y(t,r);e?b(n.errors,r,e):z(n.errors,r)}else n.errors=t;return t},T=async(t,i,o={valid:!0})=>{for(let a in t){let u=t[a];if(u){let{_f:t,...a}=u;if(t){let a=l.array.has(t.name),c=u._f&&ee(u._f);c&&w.validatingFields&&j([t.name],!0);let d=await ea(u,l.disabled,s,E,r.shouldUseNativeValidation&&!i,a);if(c&&w.validatingFields&&j([t.name]),d[t.name]&&(o.valid=!1,i||e.shouldUseNativeValidation))break;i||(y(d,t.name)?a?ei(n.errors,d,t.name):b(n.errors,t.name,d[t.name]):z(n.errors,t.name))}P(a)||await T(a,i,o)}}return o.valid},F=(e,t)=>!r.disabled&&(e&&t&&b(s,e,t),!D(J(),o)),B=(e,t,r)=>{var n,i;return n=l,i={...a.mount?s:m(t)?o:R(e)?{[e]:t}:t},R(e)?(r&&n.watch.add(e),y(i,e,t)):Array.isArray(e)?e.map(e=>(r&&n.watch.add(e),y(i,e))):(r&&(n.watchAll=!0),i)},U=(e,t,r={})=>{let n=y(i,e),o=t;if(n){let r=n._f;r&&(r.disabled||b(s,e,Z(t,r)),o=I(r.ref)&&d(t)?"":t,"select-multiple"===r.ref.type?[...r.ref.options].forEach(e=>e.selected=o.includes(e.value)):r.refs?"checkbox"===r.ref.type?r.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(o)?e.checked=!!o.find(t=>t===e.value):e.checked=o===e.value||!!o)}):r.refs.forEach(e=>e.checked=e.value===o):"file"===r.ref.type?r.ref.value="":(r.ref.value=o,r.ref.type||N.state.next({name:e,values:h(s)})))}(r.shouldDirty||r.shouldTouch)&&A(e,o,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&X(e)},$=(e,t,r)=>{for(let n in t){if(!t.hasOwnProperty(n))return;let o=t[n],s=e+"."+n,a=y(i,s);(l.array.has(e)||f(o)||a&&!a._f)&&!c(o)?$(s,o,r):U(s,o,r)}},H=(e,t,r={})=>{let u=y(i,e),c=l.array.has(e),f=h(t);b(s,e,f),c?(N.array.next({name:e,values:h(s)}),(w.isDirty||w.dirtyFields||S.isDirty||S.dirtyFields)&&r.shouldDirty&&N.state.next({name:e,dirtyFields:W(o,s),isDirty:F(e,f)})):!u||u._f||d(f)?U(e,f,r):$(e,f,r),et(e,l)?N.state.next({...n,name:e,values:h(s)}):N.state.next({name:a.mount?e:void 0,values:h(s)})},q=async e=>{a.mount=!0;let o=e.target,d=o.name,p=!0,m=y(i,d),g=e=>{p=Number.isNaN(e)||c(e)&&isNaN(e.getTime())||D(e,y(s,d,e))},v=Q(r.mode),x=Q(r.reValidateMode);if(m){let a,c,B,U,W=o.type?Y(m._f):f(a=e)&&a.target?"checkbox"===a.target.type?a.target.checked:a.target.value:a,$="blur"===e.type||"focusout"===e.type,H=!((U=m._f).mount&&(U.required||U.min||U.max||U.maxLength||U.minLength||U.pattern||U.validate))&&!r.resolver&&!y(n.errors,d)&&!m._f.deps||(C=$,R=y(n.touchedFields,d),O=n.isSubmitted,F=x,!(V=v).isOnAll&&(!O&&V.isOnTouch?!(R||C):(O?F.isOnBlur:V.isOnBlur)?!C:(O?!F.isOnChange:!V.isOnChange)||C)),q=et(d,l,$);b(s,d,W),$?o&&o.readOnly||(m._f.onBlur&&m._f.onBlur(e),t&&t(0)):m._f.onChange&&m._f.onChange(e);let Z=A(d,W,$),K=!P(Z)||q;if($||N.state.next({name:d,type:e.type,values:h(s)}),H)return(w.isValid||S.isValid)&&("onBlur"===r.mode?$&&_():$||_()),K&&N.state.next({name:d,...q?{}:Z});if(!$&&q&&N.state.next({...n}),r.resolver){let{errors:e}=await k([d]);if(j([d]),g(W),p){let t=en(n.errors,i,d),r=en(e,i,t.name||d);c=r.error,d=r.name,B=P(e)}}else j([d],!0),c=(await ea(m,l.disabled,s,E,r.shouldUseNativeValidation))[d],j([d]),g(W),p&&(c?B=!1:(w.isValid||S.isValid)&&(B=await T(i,!0)));if(p){m._f.deps&&(!Array.isArray(m._f.deps)||m._f.deps.length>0)&&X(m._f.deps);var C,R,O,F,V,M=d,I=B,L=c;let e=y(n.errors,M),i=(w.isValid||S.isValid)&&"boolean"==typeof I&&n.isValid!==I;if(r.delayError&&L){let e;e=()=>{b(n.errors,M,L),N.state.next({errors:n.errors})},(t=t=>{clearTimeout(u),u=setTimeout(e,t)})(r.delayError)}else clearTimeout(u),t=null,L?b(n.errors,M,L):z(n.errors,M);if((L?!D(e,L):e)||!P(Z)||i){let e={...Z,...i&&"boolean"==typeof I?{isValid:I}:{},errors:n.errors,name:M};n={...n,...e},N.state.next(e)}}}},K=(e,t)=>{if(y(n.errors,t)&&e.focus)return e.focus(),1},X=async(e,t={})=>{let o,s,a=V(e);if(r.resolver){let t=await O(m(e)?e:a);o=P(t),s=e?!a.some(e=>y(t,e)):o}else e?((s=(await Promise.all(a.map(async e=>{let t=y(i,e);return await T(t&&t._f?{[e]:t}:t)}))).every(Boolean))||n.isValid)&&_():s=o=await T(i);return N.state.next({...!R(e)||(w.isValid||S.isValid)&&o!==n.isValid?{}:{name:e},...r.resolver||!e?{isValid:o}:{},errors:n.errors}),t.shouldFocus&&!s&&er(i,K,e?a:l.mount),s},J=(e,t)=>{let r={...a.mount?s:o};return t&&(r=function e(t,r){let n={};for(let i in t)if(t.hasOwnProperty(i)){let o=t[i],s=r[i];if(o&&f(o)&&s){let t=e(o,s);f(t)&&(n[i]=t)}else t[i]&&(n[i]=s)}return n}(t.dirtyFields?n.dirtyFields:n.touchedFields,r)),m(e)?r:R(e)?y(r,e):e.map(e=>y(r,e))},eo=(e,t)=>({invalid:!!y((t||n).errors,e),isDirty:!!y((t||n).dirtyFields,e),error:y((t||n).errors,e),isValidating:!!y(n.validatingFields,e),isTouched:!!y((t||n).touchedFields,e)}),es=(e,t,r)=>{let o=(y(i,e,{_f:{}})._f||{}).ref,{ref:s,message:a,type:l,...u}=y(n.errors,e)||{};b(n.errors,e,{...u,...t,ref:o}),N.state.next({name:e,errors:n.errors,isValid:!1}),r&&r.shouldFocus&&o&&o.focus&&o.focus()},eu=e=>N.state.subscribe({next:t=>{let r,i,a;r=e.name,i=t.name,a=e.exact,(!r||!i||r===i||V(r).some(e=>e&&(a?e===i:e.startsWith(i)||i.startsWith(e))))&&((e,t,r,n)=>{r(e);let{name:i,...o}=e;return P(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(e=>t[e]===(!n||"all"))})(t,e.formState||w,ev,e.reRenderRoot)&&e.callback({values:{...s},...n,...t,defaultValues:o})}}).unsubscribe,ec=(e,t={})=>{for(let a of e?V(e):l.mount)l.mount.delete(a),l.array.delete(a),t.keepValue||(z(i,a),z(s,a)),t.keepError||z(n.errors,a),t.keepDirty||z(n.dirtyFields,a),t.keepTouched||z(n.touchedFields,a),t.keepIsValidating||z(n.validatingFields,a),r.shouldUnregister||t.keepDefaultValue||z(o,a);N.state.next({values:h(s)}),N.state.next({...n,...!t.keepDirty?{}:{isDirty:F()}}),t.keepIsValid||_()},ed=({disabled:e,name:t})=>{if("boolean"==typeof e&&a.mount||e||l.disabled.has(t)){let r=l.disabled.has(t);e?l.disabled.add(t):l.disabled.delete(t),!!e!==r&&a.mount&&!a.action&&_()}},ef=(e,t={})=>{let n=y(i,e),s="boolean"==typeof t.disabled||"boolean"==typeof r.disabled;return(b(i,e,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),n)?ed({disabled:"boolean"==typeof t.disabled?t.disabled:r.disabled,name:e}):C(e,!0,t.value),{...s?{disabled:t.disabled||r.disabled}:{},...r.progressive?{required:!!t.required,min:G(t.min),max:G(t.max),minLength:G(t.minLength),maxLength:G(t.maxLength),pattern:G(t.pattern)}:{},name:e,onChange:q,onBlur:q,ref:s=>{if(s){let r;ef(e,t),n=y(i,e);let a=m(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,l="radio"===(r=a).type||"checkbox"===r.type,u=n._f.refs||[];(l?u.find(e=>e===a):a===n._f.ref)||(b(i,e,{_f:{...n._f,...l?{refs:[...u.filter(L),a,...Array.isArray(y(o,e))?[{}]:[]],ref:{type:a.type,name:e}}:{ref:a}}}),C(e,!1,void 0,a))}else{var u;(n=y(i,e,{}))._f&&(n._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(u=l.array,!u.has(e.substring(0,e.search(/\.\d+(\.|$)/))||e)||!a.action)&&l.unMount.add(e)}}}},ep=()=>r.shouldFocusError&&er(i,K,l.mount),eh=(e,t)=>async o=>{let a;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let u=h(s);if(N.state.next({isSubmitting:!0}),r.resolver){let{errors:e,values:t}=await k();j(),n.errors=e,u=h(t)}else await T(i);if(l.disabled.size)for(let e of l.disabled)z(u,e);if(z(n.errors,"root"),P(n.errors)){N.state.next({errors:{}});try{await e(u,o)}catch(e){a=e}}else t&&await t({...n.errors},o),ep(),setTimeout(ep);if(N.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:P(n.errors)&&!a,submitCount:n.submitCount+1,errors:n.errors}),a)throw a},em=(e,t={})=>{let u=e?h(e):o,c=h(u),d=P(e),f=d?o:c;if(t.keepDefaultValues||(o=u),!t.keepValues){if(t.keepDirtyValues)for(let e of Array.from(new Set([...l.mount,...Object.keys(W(o,s))]))){let t=y(n.dirtyFields,e),r=y(s,e),i=y(f,e);t&&!m(r)?b(f,e,r):t||m(i)||H(e,i)}else{if(p&&m(e))for(let e of l.mount){let t=y(i,e);if(t&&t._f){let e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(I(e)){let t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(let e of l.mount)H(e,y(f,e));else i={}}s=r.shouldUnregister?t.keepDefaultValues?h(o):{}:h(f),N.array.next({values:{...f}}),N.state.next({values:{...f}})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!w.isValid||!!t.keepIsValid||!!t.keepDirtyValues||!r.shouldUnregister&&!P(f),a.watch=!!r.shouldUnregister,a.keepIsValid=!!t.keepIsValid,a.action=!1,t.keepErrors||(n.errors={}),N.state.next({submitCount:t.keepSubmitCount?n.submitCount:0,isDirty:!d&&(t.keepDirty?n.isDirty:!!(t.keepDefaultValues&&!D(e,o))),isSubmitted:!!t.keepIsSubmitted&&n.isSubmitted,dirtyFields:d?{}:t.keepDirtyValues?t.keepDefaultValues&&s?W(o,s):n.dirtyFields:t.keepDefaultValues&&e?W(o,e):t.keepDirty?n.dirtyFields:{},touchedFields:t.keepTouched?n.touchedFields:{},errors:t.keepErrors?n.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1,defaultValues:o})},eg=(e,t)=>em(x(e)?e(s):e,{...r.resetOptions,...t}),ev=e=>{n={...n,...e}},ey={control:{register:ef,unregister:ec,getFieldState:eo,handleSubmit:eh,setError:es,_subscribe:eu,_runSchema:k,_updateIsValidating:j,_focusError:ep,_getWatch:B,_getDirty:F,_setValid:_,_setFieldArray:(e,t=[],l,u,c=!0,d=!0)=>{if(u&&l&&!r.disabled){if(a.action=!0,d&&Array.isArray(y(i,e))){let t=l(y(i,e),u.argA,u.argB);c&&b(i,e,t)}if(d&&Array.isArray(y(n.errors,e))){let t,r=l(y(n.errors,e),u.argA,u.argB);c&&b(n.errors,e,r),g(y(t=n.errors,e)).length||z(t,e)}if((w.touchedFields||S.touchedFields)&&d&&Array.isArray(y(n.touchedFields,e))){let t=l(y(n.touchedFields,e),u.argA,u.argB);c&&b(n.touchedFields,e,t)}(w.dirtyFields||S.dirtyFields)&&(n.dirtyFields=W(o,s)),N.state.next({name:e,isDirty:F(e,t),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else b(s,e,t)},_setDisabledField:ed,_setErrors:e=>{n.errors=e,N.state.next({errors:n.errors,isValid:!1})},_getFieldArray:e=>g(y(a.mount?s:o,e,r.shouldUnregister?y(o,e,[]):[])),_reset:em,_resetDefaultValues:()=>x(r.defaultValues)&&r.defaultValues().then(e=>{eg(e,r.resetOptions),N.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(let e of l.unMount){let t=y(i,e);t&&(t._f.refs?t._f.refs.every(e=>!L(e)):!L(t._f.ref))&&ec(e)}l.unMount=new Set},_disableForm:e=>{"boolean"==typeof e&&(N.state.next({disabled:e}),er(i,(t,r)=>{let n=y(i,r);n&&(t.disabled=n._f.disabled||e,Array.isArray(n._f.refs)&&n._f.refs.forEach(t=>{t.disabled=n._f.disabled||e}))},0,!1))},_subjects:N,_proxyFormState:w,get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(value){a=value},get _defaultValues(){return o},get _names(){return l},set _names(value){l=value},get _formState(){return n},get _options(){return r},set _options(value){r={...r,...value}}},subscribe:e=>(a.mount=!0,S={...S,...e.formState},eu({...e,formState:{...v,...e.formState}})),trigger:X,register:ef,handleSubmit:eh,watch:(e,t)=>x(e)?N.state.subscribe({next:r=>"values"in r&&e(B(void 0,t),r)}):B(e,t,!0),setValue:H,getValues:J,reset:eg,resetField:(e,t={})=>{y(i,e)&&(m(t.defaultValue)?H(e,h(y(o,e))):(H(e,t.defaultValue),b(o,e,h(t.defaultValue))),t.keepTouched||z(n.touchedFields,e),t.keepDirty||(z(n.dirtyFields,e),n.isDirty=t.defaultValue?F(e,h(y(o,e))):F()),!t.keepError&&(z(n.errors,e),w.isValid&&_()),N.state.next({...n}))},clearErrors:e=>{let t=e?V(e):void 0;null==t||t.forEach(e=>z(n.errors,e)),t?t.forEach(e=>{N.state.next({name:e,errors:n.errors})}):N.state.next({errors:{}})},unregister:ec,setError:es,setFocus:(e,t={})=>{let r=y(i,e),n=r&&r._f;if(n){let e=n.refs?n.refs[0]:n.ref;e.focus&&setTimeout(()=>{e.focus(),t.shouldSelect&&x(e.select)&&e.select()})}},getFieldState:eo};return{...ey,formControl:ey}}(e);t.current={...i,formState:n}}let o=t.current.control;return o._options=e,A(()=>{let e=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(e=>({...e,isReady:!0})),o._formState.isReady=!0,e},[o]),u.default.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),u.default.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),u.default.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),u.default.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),u.default.useEffect(()=>{if(o._proxyFormState.isDirty){let e=o._getDirty();e!==n.isDirty&&o._subjects.state.next({isDirty:e})}},[o,n.isDirty]),u.default.useEffect(()=>{var t;e.values&&!D(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),(null==(t=o._options.resetOptions)?void 0:t.keepIsValid)||o._setValid(),r.current=e.values,i(e=>({...e}))):o._resetDefaultValues()},[o,e.values]),u.default.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=u.default.useMemo(()=>((e,t,r,n=!0)=>{let i={defaultValues:t._defaultValues};for(let o in e)Object.defineProperty(i,o,{get:()=>("all"!==t._proxyFormState[o]&&(t._proxyFormState[o]=!n||"all"),r&&(r[o]=!0),e[o])});return i})(n,o),[o,n]),t.current}({resolver:function(e,t,r){if(void 0===r&&(r={}),"_def"in e&&"object"==typeof e._def&&"typeName"in e._def)return function(t,n,i){try{return Promise.resolve(ej(function(){return Promise.resolve(e["sync"===r.mode?"parse":"parseAsync"](t,void 0)).then(function(e){return i.shouldUseNativeValidation&&eb({},i),{errors:{},values:r.raw?Object.assign({},t):e}})},function(e){if(Array.isArray(null==e?void 0:e.issues))return{values:{},errors:ew(function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,o=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[s]={message:a.message,type:a.code}}else r[s]={message:o,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var l=r[s].types,u=l&&l[n.code];r[s]=F(s,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r}(e.errors,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};throw e}))}catch(e){return Promise.reject(e)}};if("_zod"in e&&"object"==typeof e._zod)return function(t,n,i){try{return Promise.resolve(ej(function(){return Promise.resolve(("sync"===r.mode?e_.parse:e_.parseAsync)(e,t,void 0)).then(function(e){return i.shouldUseNativeValidation&&eb({},i),{errors:{},values:r.raw?Object.assign({},t):e}})},function(e){if(e instanceof eE.$ZodError)return{values:{},errors:ew(function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,o=n.message,s=n.path.join(".");if(!r[s])if("invalid_union"===n.code&&n.errors.length>0){var a=n.errors[0][0];r[s]={message:a.message,type:a.code}}else r[s]={message:o,type:i};if("invalid_union"===n.code&&n.errors.forEach(function(t){return t.forEach(function(t){return e.push(t)})}),t){var l=r[s].types,u=l&&l[n.code];r[s]=F(s,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r}(e.issues,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};throw e}))}catch(e){return Promise.reject(e)}};throw Error("Invalid input: not a Zod schema")}(eD),defaultValues:v,mode:"onChange"}),{control:S,handleSubmit:N,watch:E,setValue:_,formState:{isDirty:j}}=w,{fields:k,append:O,remove:B}=function(e){let t=u.default.useContext(C),{control:r=t,name:n,keyName:i="id",shouldUnregister:o,rules:s}=e,[a,l]=u.default.useState(r._getFieldArray(n)),c=u.default.useRef(r._getFieldArray(n).map(eu)),d=u.default.useRef(!1);r._names.array.add(n),u.default.useMemo(()=>s&&a.length>=0&&r.register(n,s),[r,n,a.length,s]),A(()=>r._subjects.array.subscribe({next:({values:e,name:t})=>{if(t===n||!t){let t=y(e,n);Array.isArray(t)&&(l(t),c.current=t.map(eu))}}}).unsubscribe,[r,n]);let f=u.default.useCallback(e=>{d.current=!0,r._setFieldArray(n,e)},[r,n]);return u.default.useEffect(()=>{if(r._state.action=!1,et(n,r._names)&&r._subjects.state.next({...r._formState}),d.current&&(!Q(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!Q(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(e=>{r._updateIsValidating([n]);let t=y(e.errors,n),i=y(r._formState.errors,n);(i?!t&&i.type||t&&(i.type!==t.type||i.message!==t.message):t&&t.type)&&(t?b(r._formState.errors,n,t):z(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{let e=y(r._fields,n);e&&e._f&&!(Q(r._options.reValidateMode).isOnSubmit&&Q(r._options.mode).isOnSubmit)&&ea(e,r._names.disabled,r._formValues,"all"===r._options.criteriaMode,r._options.shouldUseNativeValidation,!0).then(e=>!P(e)&&r._subjects.state.next({errors:ei(r._formState.errors,e,n)}))}r._subjects.state.next({name:n,values:h(r._formValues)}),r._names.focus&&er(r._fields,(e,t)=>{if(r._names.focus&&t.startsWith(r._names.focus)&&e.focus)return e.focus(),1}),r._names.focus="",r._setValid(),d.current=!1},[a,n,r]),u.default.useEffect(()=>(y(r._formValues,n)||r._setFieldArray(n),()=>{let e;r._options.shouldUnregister||o?r.unregister(n):(e=y(r._fields,n))&&e._f&&(e._f.mount=!1)}),[n,r,i,o]),{swap:u.default.useCallback((e,t)=>{let i=r._getFieldArray(n);ev(i,e,t),ev(c.current,e,t),f(i),l(i),r._setFieldArray(n,i,ev,{argA:e,argB:t},!1)},[f,n,r]),move:u.default.useCallback((e,t)=>{let i=r._getFieldArray(n);eh(i,e,t),eh(c.current,e,t),f(i),l(i),r._setFieldArray(n,i,eh,{argA:e,argB:t},!1)},[f,n,r]),prepend:u.default.useCallback((e,t)=>{let i=V(h(e)),o=em(r._getFieldArray(n),i);r._names.focus=ec(n,0,t),c.current=em(c.current,i.map(eu)),f(o),l(o),r._setFieldArray(n,o,em,{argA:ef(e)})},[f,n,r]),append:u.default.useCallback((e,t)=>{let i=V(h(e)),o=ed(r._getFieldArray(n),i);r._names.focus=ec(n,o.length-1,t),c.current=ed(c.current,i.map(eu)),f(o),l(o),r._setFieldArray(n,o,ed,{argA:ef(e)})},[f,n,r]),remove:u.default.useCallback(e=>{let t=eg(r._getFieldArray(n),e);c.current=eg(c.current,e),f(t),l(t),Array.isArray(y(r._fields,n))||b(r._fields,n,void 0),r._setFieldArray(n,t,eg,{argA:e})},[f,n,r]),insert:u.default.useCallback((e,t,i)=>{let o=V(h(t)),s=ep(r._getFieldArray(n),e,o);r._names.focus=ec(n,e,i),c.current=ep(c.current,e,o.map(eu)),f(s),l(s),r._setFieldArray(n,s,ep,{argA:e,argB:ef(t)})},[f,n,r]),update:u.default.useCallback((e,t)=>{let i=h(t),o=ey(r._getFieldArray(n),e,i);c.current=[...o].map((t,r)=>t&&r!==e?c.current[r]:eu()),f(o),l([...o]),r._setFieldArray(n,o,ey,{argA:e,argB:i},!0,!1)},[f,n,r]),replace:u.default.useCallback(e=>{let t=V(h(e));c.current=t.map(eu),f([...t]),l([...t]),r._setFieldArray(n,[...t],e=>e,{},!0,!1)},[f,n,r]),fields:u.default.useMemo(()=>a.map((e,t)=>({...e,[i]:c.current[t]||eu()})),[a,i])}}({control:S,name:"lines"}),U=E("lines")||[],{totals:$}=u.useMemo(()=>{let e,t;return t=function(e){let t=new sR("0"),r=new sR("0"),n=new sR("0");for(let i of e){let e=new sR(i.line_subtotal),o=new sR(i.gst_amount);i.is_bcrs_exempt?n=n.add(e):(t=t.add(e),r=r.add(o))}let i=t.add(r).add(n);return{subtotal:t.toFixed(4),gst_amount:r.toFixed(4),bcrs_deposit_total:n.toFixed(4),total_amount:i.toFixed(4),display_subtotal:t.toDecimalPlaces(2).toFixed(2),display_gst:r.toDecimalPlaces(2).toFixed(2),display_bcrs:n.toDecimalPlaces(2).toFixed(2),display_total:i.toDecimalPlaces(2).toFixed(2)}}(e=U.map(e=>sD(e.quantity,e.unit_price,e.discount_pct,e.tax_code,e.is_bcrs_deposit))),{lineResults:e,totals:t}},[U]);u.useEffect(()=>{_("subtotal",$.subtotal),_("gst_amount",$.gst_amount),_("total_amount",$.total_amount)},[$,_]),u.useEffect(()=>{n(j)},[j,n]);let H=async e=>{o(!0),l(null);try{console.log("Submitting invoice:",e),await new Promise(e=>setTimeout(e,1e3));let t=crypto.randomUUID();r?.(t)}catch(e){l(e instanceof Error?e.message:"Failed to save invoice")}finally{o(!1)}},q=async()=>{console.log("Saving draft:",{...w.getValues(),status:"DRAFT"})};return(0,a.jsx)(T,{...w,children:(0,a.jsxs)("form",{onSubmit:N(H),className:"space-y-6",children:[s&&(0,a.jsxs)("div",{className:"bg-alert/10 border border-alert rounded-sm p-4 flex items-start gap-3",role:"alert",children:[(0,a.jsx)(sL.AlertCircle,{className:"h-5 w-5 text-alert flex-shrink-0 mt-0.5"}),(0,a.jsx)("p",{className:"text-sm text-alert",children:s})]}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)(sT.Card,{className:"border-border bg-carbon rounded-sm",children:[(0,a.jsx)(sT.CardHeader,{children:(0,a.jsx)(sT.CardTitle,{className:"font-display text-lg text-text-primary",children:"Invoice Details"})}),(0,a.jsxs)(sT.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsx)(e3.Input,{label:"Invoice Number",...w.register("invoice_number"),error:w.formState.errors.invoice_number?.message}),(0,a.jsx)(e3.Input,{label:"Reference",...w.register("reference"),placeholder:"Optional reference"})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsx)(e3.Input,{label:"Issue Date",type:"date",...w.register("issue_date"),error:w.formState.errors.issue_date?.message}),(0,a.jsx)(e3.Input,{label:"Due Date",type:"date",...w.register("due_date"),error:w.formState.errors.due_date?.message})]})]})]}),(0,a.jsxs)(sT.Card,{className:"border-border bg-carbon rounded-sm",children:[(0,a.jsx)(sT.CardHeader,{children:(0,a.jsx)(sT.CardTitle,{className:"font-display text-lg text-text-primary",children:"Customer"})}),(0,a.jsxs)(sT.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsx)(e3.Input,{label:"Customer Name",...w.register("customer.name"),error:w.formState.errors.customer?.name?.message}),(0,a.jsx)(e3.Input,{label:"Email",type:"email",...w.register("customer.email"),error:w.formState.errors.customer?.email?.message})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsx)(e3.Input,{label:"UEN (Optional)",...w.register("customer.uen"),placeholder:"201912345A",error:w.formState.errors.customer?.uen?.message}),(0,a.jsx)(e3.Input,{label:"GST Registration No (Optional)",...w.register("customer.gst_registration_no"),placeholder:"M90345678"})]})]})]}),(0,a.jsxs)(sT.Card,{className:"border-border bg-carbon rounded-sm",children:[(0,a.jsxs)(sT.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,a.jsx)(sT.CardTitle,{className:"font-display text-lg text-text-primary",children:"Line Items"}),(0,a.jsxs)(eT.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{O(eO())},className:"rounded-sm border-border text-text-secondary",children:[(0,a.jsx)(sI,{className:"h-4 w-4 mr-2"}),"Add Line"]})]}),(0,a.jsxs)(sT.CardContent,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-2 pb-2 border-b border-border text-xs font-medium text-text-secondary",role:"rowheader",children:[(0,a.jsx)("div",{className:"col-span-1"}),(0,a.jsx)("div",{className:"col-span-4",children:"Description"}),(0,a.jsx)("div",{className:"col-span-1 text-right",children:"Qty"}),(0,a.jsx)("div",{className:"col-span-2 text-right",children:"Price"}),(0,a.jsx)("div",{className:"col-span-1 text-right",children:"Disc%"}),(0,a.jsx)("div",{className:"col-span-1",children:"Tax"}),(0,a.jsx)("div",{className:"col-span-1 text-right",children:"Total"}),(0,a.jsx)("div",{className:"col-span-1"})]}),(0,a.jsx)("div",{role:"rowgroup",children:k.map((e,r)=>(0,a.jsx)(sO,{index:r,isGSTRegistered:t,onRemove:()=>{k.length>1&&B(r)}},e.id))}),w.formState.errors.lines&&(0,a.jsx)("p",{className:"text-sm text-alert mt-2",role:"alert",children:w.formState.errors.lines.message})]})]}),(0,a.jsxs)(sT.Card,{className:"border-border bg-carbon rounded-sm",children:[(0,a.jsx)(sT.CardHeader,{children:(0,a.jsx)(sT.CardTitle,{className:"font-display text-lg text-text-primary",children:"Notes & Terms"})}),(0,a.jsxs)(sT.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-text-secondary mb-1.5 block",children:"Notes"}),(0,a.jsx)("textarea",{...w.register("notes"),rows:3,className:(0,e7.cn)("flex w-full rounded-sm border bg-surface px-3 py-2 text-sm","text-text-primary placeholder:text-text-muted","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary/50 focus-visible:border-accent-primary","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors resize-none","border-border"),placeholder:"Additional notes for the customer..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-text-secondary mb-1.5 block",children:"Terms & Conditions"}),(0,a.jsx)("textarea",{...w.register("terms"),rows:2,className:(0,e7.cn)("flex w-full rounded-sm border bg-surface px-3 py-2 text-sm","text-text-primary placeholder:text-text-muted","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary/50 focus-visible:border-accent-primary","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors resize-none","border-border"),placeholder:"Payment terms and conditions..."})]})]})]})]}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(sP,{isGSTRegistered:t,totals:$,onSubmit:N(H),onSaveDraft:q,isSubmitting:i})})]})]})})}let sH=(0,iK.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var sq=e.i(22016);function sZ(){let e=(0,l.useRouter)();return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(sq.default,{href:"/invoices",children:(0,a.jsx)(eT.Button,{variant:"outline",size:"icon",className:"rounded-sm border-border text-text-secondary",children:(0,a.jsx)(sH,{className:"h-4 w-4"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-display text-2xl font-bold text-text-primary",children:"New Invoice"}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:"Create a new sales invoice"})]})]}),(0,a.jsx)(s$,{isGSTRegistered:!0,onSuccess:t=>{e.push(`/invoices/${t}`)}})]})}e.s(["default",()=>sZ],43543)}]);